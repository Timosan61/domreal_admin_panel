/* ========================================
   –û–±—â–∏–µ —Å—Ç–∏–ª–∏
   ======================================== */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #007AFF;
    --primary-hover: #0051D5;
    --secondary-color: #8E8E93;
    --success-color: #34C759;
    --warning-color: #FF9500;
    --danger-color: #FF3B30;
    --bg-color: #F5F5F5;
    --surface-color: #ffffff;
    --text-color: #000000;
    --text-muted: #666666;
    --border-color: #E5E5EA;
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1);
    --shadow-md: 0 2px 8px 0 rgb(0 0 0 / 0.08);
    --shadow-lg: 0 4px 12px 0 rgb(0 0 0 / 0.1);
    --radius-sm: 4px;
    --radius-md: 6px;
    --radius-lg: 8px;
    --sidebar-width: 240px;
    --sidebar-width-collapsed: 70px;
}

/* ========================================
   –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
   ======================================== */

[data-theme="dark"] {
    --primary-color: #0A84FF;
    --primary-hover: #409CFF;
    --secondary-color: #98989D;
    --success-color: #30D158;
    --warning-color: #FF9F0A;
    --danger-color: #FF453A;
    --bg-color: #000000;
    --surface-color: #1c1c1e;
    --text-color: #ffffff;
    --text-muted: #98989D;
    --border-color: #38383a;
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.3);
    --shadow-md: 0 2px 8px 0 rgb(0 0 0 / 0.25);
    --shadow-lg: 0 4px 12px 0 rgb(0 0 0 / 0.4);
}

/* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã */
body,
.sidebar,
.main-content,
.filters-panel,
.table-container,
.stat-card,
.call-info-panel,
.audio-panel,
.transcript-panel,
.checklist-panel,
.analysis-panel,
.modal-content,
.global-audio-player,
.bulk-actions-bar {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* –¢–µ–º–Ω–∞—è —Ç–µ–º–∞: —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ */
[data-theme="dark"] .calls-table thead {
    background-color: #2c2c2e;
}

[data-theme="dark"] .calls-table tbody tr:hover {
    background-color: #2c2c2e;
}

[data-theme="dark"] .sidebar-toggle-btn:hover {
    background-color: #2c2c2e;
}

[data-theme="dark"] .sidebar-menu-item:hover {
    background-color: #2c2c2e;
}

[data-theme="dark"] .sidebar-menu-item.active {
    background-color: #0A3A5C;
    color: var(--primary-color);
}

[data-theme="dark"] .multiselect-trigger:hover {
    border-color: var(--primary-color);
}

[data-theme="dark"] .transcript-container {
    background: #000000;
}

[data-theme="dark"] .transcript-segment {
    background: #2c2c2e;
    border-left-color: #48484a;
}

[data-theme="dark"] .transcript-segment.segment-highlighted {
    background: #3d3d00;
    box-shadow: 0 4px 12px rgba(255, 204, 0, 0.2);
}

[data-theme="dark"] .transcript-segment.segment-active {
    background: linear-gradient(90deg, #1a3a52 0%, #1c3d56 50%, #1c1c1e 100%);
    border-left-color: var(--primary-color);
    box-shadow: 0 4px 12px rgba(10, 132, 255, 0.3);
}

[data-theme="dark"] .transcript-segment:hover {
    background: #2c2c2e;
    box-shadow: 0 2px 8px rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .checklist-item {
    background: #2c2c2e;
}

[data-theme="dark"] .checklist-item:hover {
    background: #3a3a3c;
    border-color: #0A84FF;
}

[data-theme="dark"] .checklist-item.active {
    background: #0A3A5C;
}

[data-theme="dark"] .analysis-text {
    background: #2c2c2e;
}

[data-theme="dark"] .compliance-score {
    background: linear-gradient(135deg, #0A3A5C, #1a3a52);
}

[data-theme="dark"] input[type="text"],
[data-theme="dark"] input[type="number"],
[data-theme="dark"] input[type="date"],
[data-theme="dark"] input[type="search"],
[data-theme="dark"] select,
[data-theme="dark"] textarea,
[data-theme="dark"] .filter-group input,
[data-theme="dark"] .filter-group select,
[data-theme="dark"] .filters-panel input,
[data-theme="dark"] .filters-panel select {
    background-color: #2c2c2e !important;
    color: var(--text-color) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] input[type="text"]:focus,
[data-theme="dark"] input[type="number"]:focus,
[data-theme="dark"] input[type="date"]:focus,
[data-theme="dark"] input[type="search"]:focus,
[data-theme="dark"] select:focus,
[data-theme="dark"] textarea:focus,
[data-theme="dark"] .filter-group input:focus,
[data-theme="dark"] .filter-group select:focus {
    border-color: var(--primary-color) !important;
    box-shadow: 0 0 0 3px rgba(10, 132, 255, 0.2) !important;
}

/* Placeholder —Ü–≤–µ—Ç –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ */
[data-theme="dark"] input::placeholder,
[data-theme="dark"] textarea::placeholder {
    color: #666666;
    opacity: 1;
}

/* Option —ç–ª–µ–º–µ–Ω—Ç—ã –≤ select */
[data-theme="dark"] select option {
    background-color: #2c2c2e;
    color: var(--text-color);
}

[data-theme="dark"] .multiselect-dropdown {
    background: #2c2c2e;
    border-color: var(--border-color);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
}

[data-theme="dark"] .multiselect-option:hover {
    background: #3a3a3c;
}

[data-theme="dark"] .modal-overlay {
    background: rgba(0, 0, 0, 0.8);
}

[data-theme="dark"] .global-audio-player {
    background: linear-gradient(to top, #1c1c1e 0%, #000000 100%);
    border-top-color: var(--primary-color);
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
}

[data-theme="dark"] .bulk-actions-bar {
    background: linear-gradient(to top, #1c1c1e 0%, #000000 100%);
    border-top-color: var(--primary-color);
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
}

[data-theme="dark"] .pagination button:hover:not(:disabled),
[data-theme="dark"] .pagination .page-number:hover {
    background-color: #3a3a3c;
}

[data-theme="dark"] .badge-success {
    background-color: #1e3a1e;
    color: #30D158;
}

[data-theme="dark"] .badge-warning {
    background-color: #3d2e1e;
    color: #FF9F0A;
}

[data-theme="dark"] .badge-danger {
    background-color: #3d1e1e;
    color: #FF453A;
}

[data-theme="dark"] .badge-info {
    background-color: #1e2a3d;
    color: #0A84FF;
}

[data-theme="dark"] .badge-secondary {
    background-color: #2c2c2e;
    color: #98989D;
}

/* –ü—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ */
[data-theme="dark"] .btn-primary {
    background-color: #0066CC;
    color: white;
}

[data-theme="dark"] .btn-primary:hover {
    background-color: #0077DD;
}

[data-theme="dark"] .btn-secondary {
    background-color: #3a3a3c;
    color: var(--text-color);
}

[data-theme="dark"] .btn-secondary:hover {
    background-color: #48484a;
}

/* Play –∫–Ω–æ–ø–∫–∏ –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ */
[data-theme="dark"] .btn-play-audio {
    background-color: #2c2c2e;
    border-color: var(--border-color);
    color: #0A84FF;
}

[data-theme="dark"] .btn-play-audio:hover:not(:disabled) {
    background-color: #0066CC;
    color: white;
    border-color: #0066CC;
}

[data-theme="dark"] .btn-play-audio.playing {
    background-color: #1e4d2b;
    border-color: #30D158;
    color: #30D158;
}

/* –ß–µ–∫–±–æ–∫—Å—ã –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ */
[data-theme="dark"] input[type="checkbox"] {
    accent-color: #0A84FF;
    background-color: #2c2c2e;
    border-color: var(--border-color);
}

/* Multiselect –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ */
[data-theme="dark"] .multiselect-trigger {
    background: #2c2c2e !important;
    color: var(--text-color) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .multiselect-search {
    background-color: #1c1c1e !important;
    color: var(--text-color) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .multiselect-select-all,
[data-theme="dark"] .multiselect-clear {
    background: #1c1c1e;
    color: var(--primary-color);
}

[data-theme="dark"] .multiselect-select-all:hover {
    background: #0A3A5C;
}

[data-theme="dark"] .multiselect-clear:hover {
    background: #3d1e1e;
    color: var(--danger-color);
}

/* –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å–∏—Ç—å" –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ */
[data-theme="dark"] button[type="button"],
[data-theme="dark"] .btn {
    transition: all 0.2s ease;
}

/* Toggle switch –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ */
[data-theme="dark"] .toggle-slider {
    background-color: #48484a;
}

[data-theme="dark"] .toggle-slider:before {
    background-color: #2c2c2e;
}

[data-theme="dark"] .toggle-switch input:checked + .toggle-slider {
    background-color: #0A84FF;
}

[data-theme="dark"] .toggle-switch input:checked + .toggle-slider:before {
    background-color: white;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background-color: var(--bg-color);
    color: var(--text-color);
    line-height: 1.6;
    font-size: 14px;
}

.container {
    display: flex;
    min-height: 100vh;
    background-color: var(--bg-color);
}

.main-content {
    flex: 1;
    margin-left: var(--sidebar-width);
    padding: 20px 30px;
    transition: margin-left 0.3s ease;
}

/* ========================================
   –õ–µ–≤–∞—è –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å
   ======================================== */

.sidebar {
    position: fixed;
    left: 0;
    top: 0;
    width: var(--sidebar-width);
    height: 100vh;
    background-color: var(--surface-color);
    border-right: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    z-index: 1000;
    transition: width 0.3s ease;
}

/* –°–≤–µ—Ä–Ω—É—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ sidebar */
.sidebar.collapsed {
    width: var(--sidebar-width-collapsed);
}

.sidebar.collapsed ~ .main-content {
    margin-left: var(--sidebar-width-collapsed);
}

/* –ö–Ω–æ–ø–∫–∞ toggle sidebar */
.sidebar-toggle {
    padding: 15px 20px;
    border-bottom: 1px solid var(--border-color);
}

.sidebar-toggle-btn {
    width: 100%;
    padding: 8px;
    background: transparent;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    color: var(--text-color);
    transition: background-color 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.sidebar-toggle-btn:hover {
    background-color: #F9F9F9;
}

.sidebar-toggle-btn svg {
    width: 24px;
    height: 24px;
}

.sidebar.collapsed .sidebar-toggle {
    padding: 15px 10px;
}

.sidebar-menu {
    flex: 1;
    padding: 20px 0;
}

.sidebar-menu-item {
    display: flex;
    align-items: center;
    padding: 12px 20px;
    color: var(--text-color);
    text-decoration: none;
    font-size: 15px;
    font-weight: 500;
    transition: background-color 0.2s;
    cursor: pointer;
}

.sidebar-menu-item:hover {
    background-color: #F9F9F9;
}

.sidebar-menu-item.active {
    background-color: #E3F2FD;
    color: var(--primary-color);
}

.sidebar-menu-item svg,
.sidebar-menu-item i {
    width: 24px;
    height: 24px;
    margin-right: 12px;
    font-size: 20px;
}

.sidebar-user {
    padding: 20px;
    border-top: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    gap: 12px;
}

.sidebar-user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--primary-color);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 16px;
}

.sidebar-user-info {
    flex: 1;
}

.sidebar-user-name {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-color);
}

.sidebar-user-role {
    font-size: 12px;
    color: var(--text-muted);
}

/* –°—Ç–∏–ª–∏ –¥–ª—è collapsed sidebar */
.sidebar-menu-item svg,
.sidebar-menu-item i {
    transition: margin-right 0.3s ease;
}

.sidebar.collapsed .sidebar-menu-item {
    padding: 12px;
    justify-content: center;
}

.sidebar.collapsed .sidebar-menu-item svg,
.sidebar.collapsed .sidebar-menu-item i {
    margin-right: 0;
}

.sidebar.collapsed .sidebar-menu-text {
    opacity: 0;
    width: 0;
    overflow: hidden;
    transition: opacity 0.2s ease, width 0.3s ease;
}

.sidebar-menu-text {
    opacity: 1;
    transition: opacity 0.3s ease 0.1s;
}

.sidebar.collapsed .sidebar-user {
    padding: 20px 10px;
    justify-content: center;
}

.sidebar.collapsed .sidebar-user-info {
    opacity: 0;
    width: 0;
    overflow: hidden;
    transition: opacity 0.2s ease, width 0.3s ease;
}

.sidebar-user-info {
    transition: opacity 0.3s ease 0.1s;
}

/* –ö–Ω–æ–ø–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS) */
.mobile-menu-btn {
    display: none;
}

/* ========================================
   –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)
   ======================================== */

.theme-switcher-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 10001;
}

#theme-switcher-btn {
    width: 44px;
    height: 44px;
    border: none;
    background: var(--surface-color);
    color: var(--text-color);
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    box-shadow: var(--shadow-md);
    border: 2px solid var(--border-color);
}

#theme-switcher-btn:hover {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
    transform: scale(1.1) rotate(15deg);
    box-shadow: var(--shadow-lg);
}

#theme-switcher-btn:active {
    transform: scale(0.95);
}

#theme-switcher-btn svg {
    width: 20px;
    height: 20px;
    transition: transform 0.3s ease;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã */
#theme-switcher-btn.switching {
    animation: themeSwitch 0.5s ease;
}

@keyframes themeSwitch {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.2) rotate(180deg);
    }
}

/* –¢–µ–º–Ω–∞—è —Ç–µ–º–∞: —É–ª—É—á—à–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç –¥–ª—è –∫–Ω–æ–ø–∫–∏ */
[data-theme="dark"] #theme-switcher-btn {
    box-shadow: 0 2px 12px rgba(10, 132, 255, 0.3);
}

[data-theme="dark"] #theme-switcher-btn:hover {
    box-shadow: 0 4px 20px rgba(10, 132, 255, 0.5);
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 768px) {
    .theme-switcher-container {
        top: 12px;
        right: 12px;
    }

    #theme-switcher-btn {
        width: 40px;
        height: 40px;
    }

    #theme-switcher-btn svg {
        width: 18px;
        height: 18px;
    }
}

/* ========================================
   –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   ======================================== */

.page-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 24px;
    padding-right: 60px; /* –û—Ç—Å—Ç—É–ø –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Ç–µ–º—ã */
}

.page-header h1 {
    font-size: 24px;
    font-weight: 600;
    color: var(--primary-color);
    margin: 0;
}

.page-header-actions {
    display: flex;
    gap: 12px;
}

.header-nav {
    display: flex;
    align-items: center;
    gap: 20px;
}

.header-nav h1 {
    flex: 1;
}

/* ========================================
   –ö–Ω–æ–ø–∫–∏
   ======================================== */

.btn {
    display: inline-block;
    padding: 10px 20px;
    border: none;
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
    text-align: center;
}

.btn-primary {
    background-color: var(--primary-color);
    color: white;
}

.btn-primary:hover {
    background-color: var(--primary-hover);
}

.btn-secondary {
    background-color: var(--secondary-color);
    color: white;
}

.btn-secondary:hover {
    background-color: #475569;
}

.btn-success {
    background-color: var(--success-color);
    color: white;
}

.btn-danger {
    background-color: var(--danger-color);
    color: white;
}

.btn-sm {
    padding: 6px 12px;
    font-size: 12px;
}

/* ========================================
   –ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤
   ======================================== */

.filters-panel {
    background: var(--surface-color);
    padding: 20px;
    border-radius: var(--radius-md);
    margin-bottom: 20px;
    box-shadow: var(--shadow-sm);
}

.filters-row {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 12px;
    margin-bottom: 12px;
}

.filters-row:last-child {
    margin-bottom: 0;
}

.filter-group {
    display: flex;
    flex-direction: column;
}

.filter-group label {
    font-size: 12px;
    font-weight: 400;
    margin-bottom: 6px;
    color: var(--text-muted);
}

.filter-group input,
.filter-group select {
    padding: 8px 12px;
    border: 1px solid #D0D0D0;
    border-radius: var(--radius-sm);
    font-size: 14px;
    background: white;
    transition: all 0.2s;
    height: 36px;
    box-sizing: border-box;
}

.filter-group input:focus,
.filter-group select:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
}

/* –ì—Ä—É–ø–ø–∞ —á–µ–∫–±–æ–∫—Å–æ–≤ */
.checkbox-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 4px 0;
}

.checkbox-label {
    display: flex;
    align-items: center;
    font-size: 14px;
    color: var(--text-color);
    cursor: pointer;
    font-weight: 400;
}

.checkbox-label input[type="checkbox"] {
    width: 18px;
    height: 18px;
    margin-right: 8px;
    cursor: pointer;
    accent-color: var(--primary-color);
}

.checkbox-label:hover {
    color: var(--primary-color);
}

/* ========================================
   Multiselect –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   ======================================== */

.multiselect {
    position: relative;
    width: 100%;
}

.multiselect-trigger {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 12px;
    border: 1px solid #D0D0D0;
    border-radius: var(--radius-sm);
    background: white;
    cursor: pointer;
    font-size: 14px;
    height: 36px;
    transition: all 0.2s;
    box-sizing: border-box;
}

.multiselect-trigger:hover {
    border-color: var(--primary-color);
}

.multiselect.active .multiselect-trigger {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
}

.multiselect-trigger svg {
    flex-shrink: 0;
    margin-left: 8px;
    transition: transform 0.2s;
    color: var(--text-muted);
}

.multiselect.active .multiselect-trigger svg {
    transform: rotate(180deg);
}

.multiselect-value {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: var(--text-color);
}

.multiselect-value.placeholder {
    color: var(--text-muted);
}

.multiselect-dropdown {
    position: absolute;
    top: calc(100% + 4px);
    left: 0;
    min-width: 100%;
    width: max-content;
    max-width: 500px;
    background: white;
    border: 1px solid #D0D0D0;
    border-radius: var(--radius-md);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    display: flex;
    flex-direction: column;
    max-height: 320px;
}

.multiselect-header {
    padding: 10px;
    border-bottom: 1px solid #E5E5E5;
    display: flex;
    gap: 6px;
    align-items: center;
    flex-shrink: 0;
}

.multiselect-search {
    flex: 1;
    padding: 6px 10px;
    border: 1px solid #D0D0D0;
    border-radius: var(--radius-sm);
    font-size: 13px;
    outline: none;
    box-sizing: border-box;
}

.multiselect-search:focus {
    border-color: var(--primary-color);
}

.multiselect-header-buttons {
    display: flex;
    gap: 4px;
}

.multiselect-select-all,
.multiselect-clear {
    padding: 5px 10px;
    background: var(--bg-color);
    border: none;
    border-radius: var(--radius-sm);
    font-size: 12px;
    color: var(--primary-color);
    cursor: pointer;
    white-space: nowrap;
    transition: background 0.2s;
}

.multiselect-clear {
    color: var(--text-muted);
}

.multiselect-select-all:hover {
    background: #E3F2FD;
}

.multiselect-clear:hover {
    background: #FFEBEE;
    color: var(--danger-color);
}

.multiselect-options {
    overflow-y: auto;
    max-height: 400px;
    min-height: 0;
}

.multiselect-option {
    display: flex;
    align-items: flex-start;
    padding: 8px 12px;
    cursor: pointer;
    transition: background 0.15s;
    user-select: none;
}

.multiselect-option:hover {
    background: var(--bg-color);
}

.multiselect-option input[type="checkbox"] {
    width: 16px;
    height: 16px;
    margin: 4px 10px 0 0;
    cursor: pointer;
    accent-color: var(--primary-color);
    flex-shrink: 0;
}

.multiselect-option span {
    flex: 1;
    font-size: 14px;
    color: var(--text-color);
    line-height: 1.5;
    white-space: normal;
    word-break: break-word;
}

.multiselect-option.highlight {
    background: #FFF9E6;
}

/* –°—á–µ—Ç—á–∏–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
.multiselect-count {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    background: var(--primary-color);
    color: white;
    border-radius: 10px;
    font-size: 11px;
    font-weight: 600;
    margin-left: 8px;
}

/* –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ–ø—Ü–∏–π multiselect */
.multiselect-group-header {
    padding: 10px 12px 6px;
    font-size: 11px;
    font-weight: 700;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    background: var(--bg-color);
    border-top: 1px solid var(--border-color);
    margin-top: 4px;
}

.multiselect-group-header:first-child {
    border-top: none;
    margin-top: 0;
}

/* ========================================
   –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
   ======================================== */

.stats-panel {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

.stat-card {
    background: var(--surface-color);
    padding: 20px;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    text-align: center;
}

.stat-label {
    font-size: 13px;
    color: var(--text-muted);
    margin-bottom: 8px;
}

.stat-value {
    font-size: 32px;
    font-weight: 700;
    color: var(--primary-color);
}

/* ========================================
   –¢–∞–±–ª–∏—Ü–∞ –∑–≤–æ–Ω–∫–æ–≤
   ======================================== */

.table-container {
    background: var(--surface-color);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    overflow-x: auto;
    overflow-y: visible;
    margin-bottom: 20px;
}

.calls-table {
    width: 100%;
    min-width: 1400px;
    border-collapse: collapse;
    font-size: 13px;
}

.calls-table thead {
    background-color: #FAFAFA;
    border-bottom: 1px solid var(--border-color);
}

.calls-table th {
    padding: 12px 16px;
    text-align: center;
    font-size: 12px;
    font-weight: 500;
    color: var(--text-muted);
    cursor: pointer;
    user-select: none;
    white-space: nowrap;
}

.calls-table th:hover {
    background-color: #F5F5F5;
}

.calls-table th .sort-icon {
    margin-left: 4px;
    opacity: 0.5;
}

.calls-table tbody tr {
    border-bottom: 1px solid var(--border-color);
    transition: background-color 0.15s;
}

.calls-table tbody tr:hover {
    background-color: #FAFAFA;
}

.calls-table td {
    padding: 14px 16px;
    font-size: 13px;
    color: var(--text-color);
}

.calls-table .loading {
    text-align: center;
    padding: 60px;
    color: var(--text-muted);
}

.table-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 16px;
    padding: 0 16px;
}

.table-stats {
    display: flex;
    gap: 24px;
    font-size: 13px;
    color: var(--text-muted);
}

.table-stats strong {
    color: var(--text-color);
    font-weight: 500;
}

/* –°—Ç–∞—Ç—É—Å—ã –∏ –±–µ–π–¥–∂–∏ */
.badge {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    white-space: normal;
    max-width: 30ch; /* –ü–µ—Ä–µ–Ω–æ—Å —Ç–µ–∫—Å—Ç–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –±–æ–ª—å—à–µ ~30 —Å–∏–º–≤–æ–ª–æ–≤ */
    overflow-wrap: break-word;
    word-wrap: break-word;
    line-height: 1.4;
}

.badge-success {
    background-color: #d1fae5;
    color: #065f46;
}

.badge-warning {
    background-color: #fef3c7;
    color: #92400e;
}

.badge-danger {
    background-color: #fee2e2;
    color: #991b1b;
}

.badge-info {
    background-color: #dbeafe;
    color: #1e40af;
}

.badge-secondary {
    background-color: #e2e8f0;
    color: #475569;
}

/* Badge —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É */
.badge.badge-nowrap {
    white-space: nowrap;
    max-width: none;
}

/* –û—Ü–µ–Ω–∫–∞ */
.rating-badge {
    display: inline-block;
    padding: 6px 12px;
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 12px;
}

.rating-high {
    background-color: #d1fae5;
    color: #065f46;
}

.rating-medium {
    background-color: #fef3c7;
    color: #92400e;
}

.rating-low {
    background-color: #fee2e2;
    color: #991b1b;
}

/* ========================================
   –ü–∞–≥–∏–Ω–∞—Ü–∏—è
   ======================================== */

.pagination {
    display: flex;
    align-items: center;
    gap: 4px;
}

.pagination button,
.pagination .page-number {
    min-width: 32px;
    height: 32px;
    padding: 0 8px;
    border: none;
    background: transparent;
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all 0.15s;
    font-size: 13px;
    color: var(--text-color);
    display: flex;
    align-items: center;
    justify-content: center;
}

.pagination button:hover:not(:disabled),
.pagination .page-number:hover {
    background-color: #F0F0F0;
}

.pagination .page-number.active {
    background-color: var(--primary-color);
    color: white;
    font-weight: 500;
}

.pagination button:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

.pagination .dots {
    padding: 0 4px;
    color: var(--text-muted);
}

/* ========================================
   –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ü–µ–Ω–∫–∏ –∑–≤–æ–Ω–∫–∞
   ======================================== */

.call-info-panel {
    background: var(--surface-color);
    padding: 20px;
    border-radius: var(--radius-lg);
    margin-bottom: 20px;
    box-shadow: var(--shadow-sm);
}

.call-info-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 12px 16px;
}

.info-item {
    display: flex;
    flex-direction: column;
}

.info-label {
    font-size: 11px;
    color: var(--text-muted);
    margin-bottom: 3px;
    font-weight: 500;
}

.info-value {
    font-size: 14px;
    color: var(--text-color);
    font-weight: 600;
}

/* ========================================
   –ê—É–¥–∏–æ–ø–ª–µ–µ—Ä
   ======================================== */

.audio-panel {
    background: var(--surface-color);
    padding: 20px;
    border-radius: var(--radius-lg);
    margin-bottom: 20px;
    box-shadow: var(--shadow-sm);
}

#audio-player {
    width: 100%;
    height: 40px;
    accent-color: #3b82f6;
}

/* –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤ –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–∞ */

/* Chrome/Safari - –±–µ–≥—É–Ω–æ–∫ –≤—Ä–µ–º–µ–Ω–∏ */
#audio-player::-webkit-media-controls-timeline {
    background: #e5e7eb;
    border-radius: 25px;
    margin: 0 10px;
    height: 6px;
}

/* Chrome/Safari - –∫–Ω–æ–ø–∫–∏ */
#audio-player::-webkit-media-controls-play-button,
#audio-player::-webkit-media-controls-pause-button {
    filter: hue-rotate(180deg) saturate(1.5);
}

/* Chrome/Safari - –≤—Ä–µ–º—è */
#audio-player::-webkit-media-controls-current-time-display,
#audio-player::-webkit-media-controls-time-remaining-display {
    color: #6b7280;
    font-size: 12px;
}

/* Firefox - –ø—Ä–æ–≥—Ä–µ—Å—Å */
#audio-player::-moz-range-progress {
    background-color: #3b82f6;
    border-radius: 25px;
    height: 6px;
}

/* Firefox - —Ç—Ä–µ–∫ */
#audio-player::-moz-range-track {
    background-color: #e5e7eb;
    border-radius: 25px;
    height: 6px;
}

/* –û–±—â–∏–π —Å—Ç–∏–ª—å –¥–ª—è –ø–æ–ª–∑—É–Ω–∫–∞ */
input[type="range"]::-webkit-slider-thumb {
    background: #3b82f6;
    border: 2px solid #ffffff;
    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.4);
}

input[type="range"]::-moz-range-thumb {
    background: #3b82f6;
    border: 2px solid #ffffff;
    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.4);
}

.audio-waveform {
    height: 80px;
    background: linear-gradient(to right, #dbeafe 0%, #bfdbfe 50%, #93c5fd 100%);
    border-radius: var(--radius-md);
    margin-bottom: 15px;
    position: relative;
    overflow: hidden;
}

.audio-controls {
    display: flex;
    align-items: center;
    gap: 15px;
}

.audio-controls button {
    flex-shrink: 0;
}

.audio-controls span {
    font-size: 13px;
    color: var(--text-muted);
}

#seek-bar {
    flex: 1;
}

#volume-bar {
    width: 100px;
}

input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    height: 6px;
    background: var(--border-color);
    border-radius: 3px;
    outline: none;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 16px;
    height: 16px;
    background: var(--primary-color);
    border-radius: 50%;
    cursor: pointer;
}

input[type="range"]::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: var(--primary-color);
    border-radius: 50%;
    cursor: pointer;
    border: none;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è seek-bar –ø—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏ (–≥–æ–ª—É–±–æ–π —Ü–≤–µ—Ç) */
.audio-controls.playing #seek-bar {
    background: linear-gradient(to right,
        #3b82f6 0%,
        #60a5fa var(--seek-progress, 0%),
        var(--border-color) var(--seek-progress, 0%),
        var(--border-color) 100%
    );
}

.audio-controls.playing #seek-bar::-webkit-slider-thumb {
    background: #3b82f6;
    box-shadow: 0 0 8px rgba(59, 130, 246, 0.6);
    transform: scale(1.2);
}

.audio-controls.playing #seek-bar::-moz-range-thumb {
    background: #3b82f6;
    box-shadow: 0 0 8px rgba(59, 130, 246, 0.6);
    transform: scale(1.2);
}

/* ========================================
   –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
   ======================================== */

/* –î–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞ –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –∏ —á–µ–∫–ª–∏—Å—Ç–∞ */
.evaluation-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å: –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é –∫–æ–º–ø–æ–Ω–æ–≤–∫—É */
@media (max-width: 1024px) {
    .evaluation-layout {
        grid-template-columns: 1fr;
    }
}

.transcript-panel {
    background: var(--surface-color);
    padding: 25px;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    height: 75vh;
    display: flex;
    flex-direction: column;
}

.transcript-panel h2 {
    font-size: 18px;
    margin-bottom: 20px;
    flex-shrink: 0;
}

.transcript-container {
    flex: 1;
    overflow-y: auto;
    padding: 15px;
    background: #f8fafc;
    border-radius: var(--radius-md);
}

.transcript-segment {
    margin-bottom: 20px;
    padding: 15px;
    background: white;
    border-radius: var(--radius-md);
    border-left: 4px solid var(--border-color);
    transition: all 0.3s ease;
}

/* –ú–µ–Ω–µ–¥–∂–µ—Ä (–∫–æ–≥–¥–∞ —Ä–æ–ª—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞) - —Å–∏–Ω–∏–π —Ü–≤–µ—Ç */
.transcript-segment.speaker-manager {
    border-left-color: #3b82f6;
}

.transcript-segment.speaker-manager .speaker-label {
    color: #3b82f6;
}

/* –ö–ª–∏–µ–Ω—Ç (–∫–æ–≥–¥–∞ —Ä–æ–ª—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞) - –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç */
.transcript-segment.speaker-client {
    border-left-color: #ef4444;
}

.transcript-segment.speaker-client .speaker-label {
    color: #ef4444;
}

/* SPEAKER_00 (–∫–æ–≥–¥–∞ —Ä–æ–ª—å –ù–ï –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞) - —Å–∏–Ω–∏–π —Ü–≤–µ—Ç –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è */
.transcript-segment.speaker-00 {
    border-left-color: #3b82f6;
}

.transcript-segment.speaker-00 .speaker-label {
    color: #3b82f6;
}

/* SPEAKER_01 (–∫–æ–≥–¥–∞ —Ä–æ–ª—å –ù–ï –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞) - –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è */
.transcript-segment.speaker-01 {
    border-left-color: #ef4444;
}

.transcript-segment.speaker-01 .speaker-label {
    color: #ef4444;
}

/* –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–ø–∏–∫–µ—Ä - —Å–µ—Ä—ã–π —Ü–≤–µ—Ç */
.transcript-segment.speaker-unknown {
    border-left-color: #9ca3af;
}

.transcript-segment.speaker-unknown .speaker-label {
    color: #9ca3af;
}

/* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫—Ä–∏—Ç–µ—Ä–∏–π */
.transcript-segment.segment-highlighted {
    background: #fef3c7;
    border-left-width: 6px;
    box-shadow: 0 4px 12px rgba(251, 191, 36, 0.3);
    transform: scale(1.02);
}

.segment-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.speaker-label {
    font-weight: 600;
    font-size: 13px;
    color: var(--text-color);
}

.segment-time {
    font-size: 11px;
    color: var(--text-muted);
}

.segment-text {
    font-size: 14px;
    line-height: 1.6;
    color: var(--text-color);
}

/* ========================================
   –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ —Å –∞—É–¥–∏–æ
   ======================================== */

/* –ê–∫—Ç–∏–≤–Ω—ã–π —Å–µ–≥–º–µ–Ω—Ç (–≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Å–µ–π—á–∞—Å) - –≥–æ–ª—É–±–æ–π –≥—Ä–∞–¥–∏–µ–Ω—Ç */
.transcript-segment.segment-active {
    background: linear-gradient(90deg, #bfdbfe 0%, #e0f2fe 50%, #fff 100%);
    border-left-width: 8px;
    border-left-color: #3b82f6;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
    transform: scale(1.01);
    transition: all 0.2s ease;
}

/* –ö–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç–æ–≤ */
.transcript-segment {
    cursor: pointer;
    user-select: none; /* –ó–∞–ø—Ä–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ */
    position: relative; /* –î–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ */
}

.transcript-segment:hover {
    background: #f8fafc;
    transform: translateX(2px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

/* –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è —Å–µ–≥–º–µ–Ω—Ç–∞ */
.segment-progress-bar {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 5px;
    background: linear-gradient(90deg, #3b82f6, #2563eb);
    transition: width 0.1s linear;
    opacity: 0;
    pointer-events: none; /* –ù–µ –º–µ—à–∞—Ç—å –∫–ª–∏–∫–∞–º */
    box-shadow: 0 -1px 4px rgba(59, 130, 246, 0.5);
}

.segment-active .segment-progress-bar {
    opacity: 1;
    animation: pulse-progress 1s ease-in-out infinite;
}

@keyframes pulse-progress {
    0%, 100% {
        box-shadow: 0 -1px 4px rgba(59, 130, 246, 0.5);
    }
    50% {
        box-shadow: 0 -1px 8px rgba(59, 130, 246, 0.8);
    }
}

/* ========================================
   –ß–µ–∫–ª–∏—Å—Ç
   ======================================== */

.checklist-panel {
    background: var(--surface-color);
    padding: 25px;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    height: 75vh;
    display: flex;
    flex-direction: column;
}

.checklist-panel h2 {
    font-size: 18px;
    margin-bottom: 20px;
    flex-shrink: 0;
}

.checklist-container {
    flex: 1;
    overflow-y: auto;
    padding-right: 5px;
}

.checklist-item {
    padding: 15px;
    background: #f8fafc;
    border-radius: var(--radius-md);
    margin-bottom: 12px;
    display: flex;
    align-items: flex-start;
    gap: 15px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 2px solid transparent;
}

.checklist-item:hover {
    background: #e0e7ff;
    border-color: #6366f1;
    transform: translateX(3px);
}

.checklist-item.active {
    background: #dbeafe;
    border-color: #3b82f6;
}

.checklist-checkbox {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
    margin-top: 2px;
}

.checklist-content {
    flex: 1;
}

.checklist-label {
    font-weight: 600;
    font-size: 14px;
    color: var(--text-color);
    margin-bottom: 4px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.segment-count-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
    padding: 0 8px;
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 700;
    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);
    cursor: help;
}

.checklist-description {
    font-size: 13px;
    color: var(--text-muted);
}

.compliance-score {
    margin-top: 20px;
    padding: 20px;
    background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
    border-radius: var(--radius-md);
    text-align: center;
}

.compliance-score h3 {
    font-size: 16px;
    color: var(--text-color);
    margin-bottom: 10px;
}

.compliance-value {
    font-size: 48px;
    font-weight: 700;
    color: var(--primary-color);
}

.compliance-label {
    font-size: 13px;
    color: var(--text-muted);
}

/* ========================================
   –ê–Ω–∞–ª–∏–∑
   ======================================== */

.analysis-panel {
    background: var(--surface-color);
    padding: 25px;
    border-radius: var(--radius-lg);
    margin-bottom: 20px;
    box-shadow: var(--shadow-sm);
}

.analysis-panel h2 {
    font-size: 18px;
    margin-bottom: 20px;
}

.analysis-section {
    margin-bottom: 20px;
}

.analysis-section h3 {
    font-size: 15px;
    font-weight: 600;
    color: var(--text-color);
    margin-bottom: 10px;
}

.analysis-text {
    font-size: 14px;
    line-height: 1.6;
    color: var(--text-color);
    padding: 15px;
    background: #f8fafc;
    border-radius: var(--radius-md);
}

.analysis-result-badge {
    display: inline-block;
    padding: 8px 16px;
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 14px;
    margin-top: 10px;
    white-space: nowrap;
}

/* ========================================
   –£—Ç–∏–ª–∏—Ç—ã
   ======================================== */

.loading {
    text-align: center;
    color: var(--text-muted);
    padding: 20px;
}

.error {
    background-color: #fee2e2;
    color: #991b1b;
    padding: 15px;
    border-radius: var(--radius-md);
    margin: 10px 0;
}

.text-center {
    text-align: center;
}

.mt-2 {
    margin-top: 20px;
}

.mb-2 {
    margin-bottom: 20px;
}

/* ========================================
   –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
   ======================================== */

/* –ü–ª–∞–Ω—à–µ—Ç—ã */
@media (max-width: 992px) {
    /* –§–∏–ª—å—Ç—Ä—ã - 4 –∫–æ–ª–æ–Ω–∫–∏ –≤–º–µ—Å—Ç–æ 8 */
    .filters-row {
        grid-template-columns: repeat(4, 1fr);
    }

    /* –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º sidebar –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ */
    .sidebar {
        width: var(--sidebar-width-collapsed);
    }

    .sidebar-toggle {
        padding: 15px 10px;
    }

    .sidebar-menu-item {
        padding: 12px;
        justify-content: center;
    }

    .sidebar-menu-item svg,
    .sidebar-menu-item i {
        margin-right: 0;
    }

    .sidebar-menu-text {
        opacity: 0;
        width: 0;
        overflow: hidden;
        position: absolute;
    }

    .sidebar-user {
        padding: 20px 10px;
        justify-content: center;
    }

    .sidebar-user-info {
        opacity: 0;
        width: 0;
        overflow: hidden;
        position: absolute;
    }

    /* Organization info –≤ —Å–≤—ë—Ä–Ω—É—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ */
    .organization-info {
        padding: 8px;
        margin: 0;
        border-radius: 0;
    }

    .organization-info .org-header,
    .organization-info .org-details {
        display: none;
    }

    .organization-info::after {
        content: 'üíº';
        font-size: 20px;
        display: block;
        text-align: center;
    }

    .main-content {
        margin-left: var(--sidebar-width-collapsed);
    }
}

/* –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ */
@media (max-width: 768px) {
    /* –°–∫—Ä—ã–≤–∞–µ–º sidebar –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
    .sidebar {
        position: fixed;
        left: -100%;
        width: var(--sidebar-width);
        transition: left 0.3s ease;
        z-index: 9999;
    }

    .sidebar.mobile-open {
        left: 0;
        box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
    }

    /* Overlay –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è sidebar */
    .sidebar-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 9998;
    }

    .sidebar-overlay.active {
        display: block;
    }

    .main-content {
        margin-left: 0;
        padding: 12px 16px;
    }

    /* –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
    .mobile-menu-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        position: fixed;
        top: 12px;
        left: 12px;
        z-index: 1001;
        width: 44px;
        height: 44px;
        border: none;
        background: var(--primary-color);
        color: white;
        border-radius: var(--radius-md);
        cursor: pointer;
        box-shadow: var(--shadow-md);
        transition: background-color 0.2s;
    }

    .mobile-menu-btn:hover {
        background: var(--primary-hover);
    }

    .mobile-menu-btn svg {
        width: 24px;
        height: 24px;
    }

    /* Page header –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
    .page-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
        padding-top: 50px; /* –ú–µ—Å—Ç–æ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é */
    }

    .page-header h1 {
        font-size: 20px;
    }

    .page-header-actions {
        width: 100%;
        flex-direction: column;
        gap: 8px;
    }

    .page-header-actions .btn {
        width: 100%;
        font-size: 13px;
        padding: 10px 16px;
    }

    /* –§–∏–ª—å—Ç—Ä—ã - 1 –∫–æ–ª–æ–Ω–∫–∞ */
    .filters-panel {
        padding: 16px;
    }

    .filters-row {
        grid-template-columns: 1fr;
        gap: 12px;
    }

    .filter-group label {
        font-size: 13px;
    }

    /* –¢–∞–±–ª–∏—Ü–∞ –∑–≤–æ–Ω–∫–æ–≤ */
    .table-container {
        overflow-x: auto;
        border-radius: var(--radius-md);
        margin-bottom: 16px;
    }

    .calls-table {
        min-width: 800px;
        font-size: 12px;
    }

    .calls-table th {
        padding: 10px 12px;
        font-size: 11px;
    }

    .calls-table td {
        padding: 12px;
        font-size: 12px;
    }

    /* Pagination */
    .pagination {
        gap: 2px;
    }

    .pagination button,
    .pagination .page-number {
        min-width: 28px;
        height: 28px;
        font-size: 12px;
    }

    /* Table footer */
    .table-footer {
        flex-direction: column;
        gap: 12px;
        align-items: flex-start;
    }

    .table-stats {
        flex-direction: column;
        gap: 8px;
        font-size: 12px;
    }

    /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–µ–π –∑–≤–æ–Ω–∫–∞ */
    .call-info-panel {
        padding: 16px;
    }

    .call-info-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }
}

/* –î–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ - 3 –∫–æ–ª–æ–Ω–∫–∏ */
@media (min-width: 769px) and (max-width: 1200px) {
    .call-info-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* –î–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ - 1 –∫–æ–ª–æ–Ω–∫–∞ */
@media (max-width: 480px) {
    .call-info-grid {
        grid-template-columns: 1fr;
        gap: 10px;
    }

    .info-label {
        font-size: 11px;
    }

    .info-value {
        font-size: 14px;
    }

    /* –ê—É–¥–∏–æ –ø–∞–Ω–µ–ª—å */
    .audio-panel {
        padding: 16px;
    }

    .audio-panel h2 {
        font-size: 16px;
        margin-bottom: 16px;
    }

    .audio-controls {
        flex-wrap: wrap;
        gap: 10px;
    }

    #volume-bar {
        width: 100%;
    }

    /* –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è */
    .transcript-panel {
        padding: 16px;
    }

    .transcript-panel h2 {
        font-size: 16px;
    }

    .transcript-segment {
        padding: 12px;
        margin-bottom: 12px;
    }

    .segment-text {
        font-size: 13px;
    }

    /* –ß–µ–∫–ª–∏—Å—Ç */
    .checklist-panel {
        padding: 16px;
    }

    .checklist-panel h2 {
        font-size: 16px;
    }

    .checklist-item {
        padding: 12px;
    }

    /* –ê–Ω–∞–ª–∏–∑ */
    .analysis-panel {
        padding: 16px;
    }

    .analysis-panel h2 {
        font-size: 16px;
    }

    .analysis-text {
        font-size: 13px;
        padding: 12px;
    }

    /* Badges */
    .badge {
        font-size: 10px;
        padding: 3px 8px;
    }

    /* Multiselect */
    .multiselect-dropdown {
        max-height: 280px;
    }

    .multiselect-options {
        max-height: 180px;
    }
}

/* ========================================
   Evaluation Page Styles
   ======================================== */

/* Evaluation Header */
.eval-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 20px;
    background-color: var(--surface-color);
    border-bottom: 1px solid var(--border-color);
    margin-bottom: 0;
}

.eval-header-left {
    display: flex;
    gap: 24px;
    align-items: center;
}

.eval-header-right {
    display: flex;
    gap: 8px;
}

.eval-info-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: var(--text-secondary);
}

.eval-info-item svg {
    color: var(--text-muted);
}

.btn-icon {
    padding: 8px;
    border: none;
    background: transparent;
    color: var(--text-muted);
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: all 0.2s ease;
}

.btn-icon:hover {
    background-color: var(--bg-hover);
    color: var(--text-primary);
}

/* Audio Player Section */
.audio-player-section {
    background-color: var(--surface-color);
    border-bottom: 1px solid var(--border-color);
    padding: 16px 20px;
}

.audio-controls {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 12px;
}

.audio-btn {
    width: 40px;
    height: 40px;
    border: none;
    background-color: var(--primary-color);
    color: white;
    border-radius: var(--radius-sm);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s ease;
}

.audio-btn:hover {
    background-color: var(--primary-hover);
}

.audio-btn svg {
    width: 20px;
    height: 20px;
}

.audio-speed select {
    padding: 8px 12px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-sm);
    background-color: white;
    font-size: 13px;
    cursor: pointer;
}

.audio-label {
    font-size: 13px;
    color: var(--text-secondary);
    margin-left: auto;
}

.waveform-container {
    position: relative;
    background-color: white;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: 12px;
}

#waveform {
    width: 100%;
}

.audio-time {
    display: flex;
    justify-content: space-between;
    margin-top: 8px;
    font-size: 12px;
    color: var(--text-muted);
}

/* Three Column Layout */
.eval-content {
    display: grid;
    grid-template-columns: 280px 1fr 400px;
    gap: 0;
    height: calc(100vh - 250px);
    overflow: hidden;
}

/* Left Panel */
.eval-left-panel {
    background-color: var(--surface-color);
    border-right: 1px solid var(--border-color);
    overflow-y: auto;
}

/* Center Panel */
.eval-center-panel {
    background-color: white;
    overflow-y: auto;
    padding: 20px;
}

/* Right Panel */
.eval-right-panel {
    background-color: var(--surface-color);
    border-left: 1px solid var(--border-color);
    overflow-y: auto;
}

/* Panel Sections */
.panel-section {
    border-bottom: 1px solid var(--border-color);
}

.panel-section:last-child {
    border-bottom: none;
}

.panel-section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.2s ease;
}

.panel-section-header:hover {
    background-color: var(--bg-hover);
}

.panel-section-header h3 {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

.panel-section-header .chevron {
    transition: transform 0.2s ease;
    color: var(--text-muted);
}

.panel-section.collapsed .chevron {
    transform: rotate(-90deg);
}

.panel-section.collapsed .panel-section-content {
    display: none;
}

.panel-section-content {
    padding: 0 20px 16px 20px;
}

/* Field Items */
.field-item {
    margin-bottom: 12px;
}

.field-item label {
    display: block;
    font-size: 12px;
    color: var(--text-muted);
    margin-bottom: 4px;
}

.field-value {
    font-size: 13px;
    color: var(--text-primary);
}

.field-select {
    width: 100%;
    padding: 6px 8px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-sm);
    font-size: 13px;
    background-color: white;
}

.field-link {
    color: var(--primary-color);
    text-decoration: none;
    font-size: 12px;
}

.field-link:hover {
    text-decoration: underline;
}

.btn-tag {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid var(--primary-color);
    background-color: transparent;
    color: var(--primary-color);
    border-radius: var(--radius-sm);
    font-size: 13px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    transition: all 0.2s ease;
}

.btn-tag:hover {
    background-color: var(--primary-color);
    color: white;
}

/* Checklist */
.checklist-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.checklist-header h4 {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

.checklist-badge {
    background-color: var(--primary-color);
    color: white;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 13px;
    font-weight: 500;
}

.checklist-item {
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: 16px;
    margin-bottom: 12px;
    background-color: white;
}

.checklist-question {
    font-size: 13px;
    color: var(--text-primary);
    margin-bottom: 12px;
    line-height: 1.5;
}

.question-icon {
    margin-right: 8px;
}

.checklist-options {
    display: flex;
    gap: 8px;
}

.radio-option {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8px 12px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-sm);
    font-size: 13px;
    cursor: pointer;
    transition: all 0.2s ease;
    user-select: none;
}

.radio-option input[type="radio"] {
    display: none;
}

.radio-option:hover {
    border-color: var(--primary-color);
    background-color: rgba(0, 122, 255, 0.05);
}

.radio-option input[type="radio"]:checked + span {
    color: var(--primary-color);
    font-weight: 500;
}

.radio-option:has(input[type="radio"]:checked) {
    border-color: var(--primary-color);
    background-color: rgba(0, 122, 255, 0.1);
}

/* Evaluation Actions */
.eval-actions {
    margin-top: 24px;
    padding-top: 24px;
    border-top: 1px solid var(--border-color);
}

.btn-lg {
    width: 100%;
    padding: 12px 24px;
    font-size: 14px;
}

/* Transcript */
.transcript-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.transcript-item {
    padding-bottom: 16px;
    border-bottom: 1px solid var(--border-color);
}

.transcript-item:last-child {
    border-bottom: none;
}

.transcript-speaker {
    font-size: 12px;
    font-weight: 600;
    color: var(--text-secondary);
    margin-bottom: 6px;
}

.transcript-text {
    font-size: 13px;
    color: var(--text-primary);
    line-height: 1.6;
}

.empty-state {
    text-align: center;
    color: var(--text-muted);
    font-size: 13px;
    padding: 20px 0;
}

/* ========================================
   Truncated Cells –∏ Tooltip
   ======================================== */

.summary-cell {
    max-width: 200px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.employee-cell {
    max-width: 150px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.department-cell {
    max-width: 180px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.summary-tooltip,
.truncated-tooltip {
    position: fixed;
    background-color: rgba(0, 0, 0, 0.9);
    color: #ffffff;
    padding: 12px 16px;
    border-radius: var(--radius-md);
    font-size: 13px;
    line-height: 1.5;
    max-width: 400px;
    word-wrap: break-word;
    z-index: 10000;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    pointer-events: none;
    animation: tooltipFadeIn 0.15s ease-out;
}

@keyframes tooltipFadeIn {
    from {
        opacity: 0;
        transform: translateY(-5px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ========================================
   –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä
   ======================================== */

.global-audio-player {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to top, #ffffff 0%, #f8f9fa 100%);
    border-top: 2px solid var(--primary-color);
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
    z-index: 10000;
    padding: 16px 24px;
}

.player-container {
    max-width: 1400px;
    margin: 0 auto;
}

.player-info {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
    font-size: 13px;
    color: var(--text-muted);
}

.player-label {
    font-weight: 600;
    color: var(--text-color);
}

.player-value {
    color: var(--text-color);
    font-weight: 500;
}

.player-separator {
    color: var(--text-muted);
    margin: 0 4px;
}

.player-arrow {
    color: var(--text-muted);
}

.player-controls {
    display: flex;
    align-items: center;
    gap: 16px;
}

.waveform-wrapper {
    flex: 1;
    position: relative;
}

#global-waveform {
    width: 100%;
    height: 60px;
}

.player-time {
    display: flex;
    justify-content: space-between;
    font-size: 11px;
    color: var(--text-muted);
    margin-top: 4px;
}

.volume-control {
    display: flex;
    align-items: center;
    gap: 8px;
}

.volume-control svg {
    color: var(--text-muted);
}

#volume-slider {
    width: 100px;
    height: 4px;
    -webkit-appearance: none;
    appearance: none;
    background: var(--border-color);
    outline: none;
    border-radius: 2px;
}

#volume-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 14px;
    height: 14px;
    background: var(--primary-color);
    cursor: pointer;
    border-radius: 50%;
}

#volume-slider::-moz-range-thumb {
    width: 14px;
    height: 14px;
    background: var(--primary-color);
    cursor: pointer;
    border-radius: 50%;
    border: none;
}

.speed-control {
    display: flex;
    align-items: center;
    gap: 8px;
}

.speed-control svg {
    color: var(--text-muted);
}

#global-speed {
    padding: 6px 10px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-sm);
    background-color: white;
    font-size: 12px;
    cursor: pointer;
    outline: none;
}

#global-speed:hover {
    border-color: var(--primary-color);
}

.player-close {
    width: 32px;
    height: 32px;
    border: none;
    background: transparent;
    color: var(--text-muted);
    cursor: pointer;
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.player-close:hover {
    background-color: var(--danger-color);
    color: white;
}

/* –ö–Ω–æ–ø–∫–∞ Play –≤ —Ç–∞–±–ª–∏—Ü–µ */
.actions-cell {
    display: flex;
    align-items: center;
    gap: 8px;
}

.btn-play-audio {
    width: 32px;
    height: 32px;
    border: 1px solid var(--border-color);
    background-color: white;
    color: var(--primary-color);
    border-radius: var(--radius-sm);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    padding: 0;
}

.btn-play-audio:hover:not(:disabled) {
    background-color: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

.btn-play-audio.playing {
    background-color: var(--success-color);
    border-color: var(--success-color);
    color: white;
}

.btn-play-audio:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.btn-play-audio svg {
    width: 14px;
    height: 14px;
}

/* Responsive –¥–ª—è –ø–ª–µ–µ—Ä–∞ */
@media (max-width: 768px) {
    .global-audio-player {
        display: none !important;
    }

    .btn-play-audio {
        display: none;
    }
}

/* Responsive Evaluation Page */
@media (max-width: 1200px) {
    .eval-content {
        grid-template-columns: 240px 1fr 340px;
    }
}

@media (max-width: 992px) {
    .eval-content {
        grid-template-columns: 1fr;
        height: auto;
    }

    .eval-left-panel,
    .eval-right-panel {
        border-right: none;
        border-left: none;
        border-bottom: 1px solid var(--border-color);
    }
}

/* ========================================
   Bulk Actions Bar (–ü–∞–Ω–µ–ª—å –º–∞—Å—Å–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π)
   ======================================== */

.bulk-actions-bar {
    position: fixed;
    bottom: 0;
    left: var(--sidebar-width);
    right: 0;
    background: linear-gradient(to top, #ffffff 0%, #f8f9fa 100%);
    border-top: 2px solid var(--primary-color);
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
    z-index: 9999;
    padding: 16px 24px;
    transition: left 0.3s ease, transform 0.3s ease;
}

.sidebar.collapsed ~ .main-content .bulk-actions-bar {
    left: var(--sidebar-width-collapsed);
}

.bulk-actions-container {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    gap: 20px;
}

.bulk-actions-info {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    color: var(--text-color);
    font-weight: 500;
}

.bulk-actions-info strong {
    color: var(--primary-color);
    font-size: 16px;
}

.bulk-actions-buttons {
    display: flex;
    align-items: center;
    gap: 12px;
    flex: 1;
}

.bulk-action-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    border: 2px solid transparent;
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    background: white;
}

.bulk-action-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.bulk-action-icon {
    font-size: 18px;
    line-height: 1;
}

.bulk-action-text {
    font-weight: 500;
}

/* –¶–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç–µ–≥–æ–≤ */
.bulk-action-good {
    border-color: #34C759;
    color: #34C759;
}

.bulk-action-good:hover {
    background: #34C759;
    color: white;
}

.bulk-action-bad {
    border-color: #FF3B30;
    color: #FF3B30;
}

.bulk-action-bad:hover {
    background: #FF3B30;
    color: white;
}

.bulk-action-question {
    border-color: #FF9500;
    color: #FF9500;
}

.bulk-action-question:hover {
    background: #FF9500;
    color: white;
}

.bulk-action-remove {
    border-color: var(--text-muted);
    color: var(--text-muted);
}

.bulk-action-remove:hover {
    background: var(--text-muted);
    color: white;
}

.bulk-action-remove svg {
    width: 16px;
    height: 16px;
}

.bulk-actions-close {
    width: 36px;
    height: 36px;
    border: none;
    background: transparent;
    color: var(--text-muted);
    cursor: pointer;
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.bulk-actions-close:hover {
    background-color: #fee2e2;
    color: var(--danger-color);
}

/* –ß–µ–∫–±–æ–∫—Å—ã –≤ —Ç–∞–±–ª–∏—Ü–µ */
.calls-table input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: var(--primary-color);
}

.calls-table tbody tr.selected {
    background-color: #E3F2FD;
}

.calls-table tbody tr.selected:hover {
    background-color: #BBDEFB;
}

/* Tag column */
.tag-cell {
    text-align: center;
    font-size: 20px;
}

.tag-cell.no-tag {
    color: var(--border-color);
}

/* ========================================
   Modal Window (–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ)
   ======================================== */

.modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: modalFadeIn 0.2s ease-out;
}

@keyframes modalFadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(2px);
}

.modal-content {
    position: relative;
    background: white;
    border-radius: var(--radius-lg);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    width: 90%;
    max-width: 500px;
    max-height: 90vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    animation: modalSlideIn 0.3s ease-out;
}

@keyframes modalSlideIn {
    from {
        transform: translateY(-50px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 20px 24px;
    border-bottom: 1px solid var(--border-color);
}

.modal-header h3 {
    font-size: 18px;
    font-weight: 600;
    color: var(--text-color);
    margin: 0;
}

.modal-close {
    width: 32px;
    height: 32px;
    border: none;
    background: transparent;
    color: var(--text-muted);
    cursor: pointer;
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.modal-close:hover {
    background-color: #fee2e2;
    color: var(--danger-color);
}

.modal-body {
    padding: 24px;
    overflow-y: auto;
    flex: 1;
}

.modal-body .form-group {
    margin-bottom: 20px;
}

.modal-body .form-group:last-child {
    margin-bottom: 0;
}

.modal-body .form-group label {
    display: block;
    font-size: 14px;
    font-weight: 500;
    color: var(--text-color);
    margin-bottom: 8px;
}

.modal-body textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    font-size: 14px;
    font-family: inherit;
    resize: vertical;
    transition: all 0.2s;
    box-sizing: border-box;
}

.modal-body textarea:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
}

.modal-info {
    margin-top: 16px;
    padding: 12px;
    background: #f8fafc;
    border-radius: var(--radius-md);
    font-size: 13px;
    color: var(--text-muted);
}

.modal-info strong {
    color: var(--primary-color);
    font-weight: 600;
}

.modal-footer {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 12px;
    padding: 16px 24px;
    border-top: 1px solid var(--border-color);
    background: #fafafa;
}

.modal-footer .btn {
    min-width: 100px;
}

/* Responsive –¥–ª—è bulk actions –∏ modal */
@media (max-width: 768px) {
    .bulk-actions-bar {
        left: 0;
        padding: 12px 16px;
    }

    .bulk-actions-container {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
    }

    .bulk-actions-buttons {
        flex-direction: column;
        gap: 8px;
    }

    .bulk-action-btn {
        width: 100%;
        justify-content: center;
    }

    .modal-content {
        width: 95%;
        max-width: none;
    }

    .modal-header,
    .modal-body,
    .modal-footer {
        padding: 16px;
    }

    .modal-footer {
        flex-direction: column;
    }

    .modal-footer .btn {
        width: 100%;
    }
}

/* ========================================
   Analytics Breadcrumb (–í–æ–∑–≤—Ä–∞—Ç –∫ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ)
   ======================================== */

.analytics-breadcrumb {
    background: #E3F2FD;
    padding: 12px 20px;
    border-bottom: 1px solid #BBDEFB;
    display: none; /* –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä—ã—Ç */
}

.breadcrumb-link {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    color: #1976D2;
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
    transition: color 0.2s ease;
}

.breadcrumb-link:hover {
    color: #0D47A1;
}

.breadcrumb-link svg {
    flex-shrink: 0;
}

/* ========================================
   KPI Cards Hover Effect (–ê–Ω–∞–ª–∏—Ç–∏–∫–∞)
   ======================================== */

/* –°—Ç–∏–ª–∏ –¥–ª—è KPI –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ analytics.php,
   –Ω–æ –¥–æ–±–∞–≤–∏–º –æ–±—â–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ */

.kpi-card {
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.kpi-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* –£–±–∏—Ä–∞–µ–º hover —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ä–µ–¥–Ω–µ–≥–æ –±–∞–ª–ª–∞ —Å–∫—Ä–∏–ø—Ç–∞ (–Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞) */
.kpi-card:last-child {
    cursor: default;
}

.kpi-card:last-child:hover {
    transform: none;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* ========================================
   Toggle Filter (–°–∫—Ä—ã—Ç—å –¥–æ 10 —Å–µ–∫)
   ======================================== */

.toggle-filter-wrapper {
    display: flex;
    align-items: center;
    gap: 10px;
    height: 36px;
}

/* iOS-style Toggle Switch */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 44px;
    height: 24px;
    flex-shrink: 0;
}

.toggle-switch input[type="checkbox"] {
    opacity: 0;
    width: 0;
    height: 0;
}

.toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: 0.3s;
    border-radius: 24px;
}

.toggle-slider:before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: 0.3s;
    border-radius: 50%;
}

.toggle-switch input:checked + .toggle-slider {
    background-color: var(--primary-color);
}

.toggle-switch input:focus + .toggle-slider {
    box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
}

.toggle-switch input:checked + .toggle-slider:before {
    transform: translateX(20px);
}

.toggle-label {
    font-size: 13px;
    color: var(--text-color);
    user-select: none;
    white-space: nowrap;
}

/* Responsive */
@media (max-width: 768px) {
    .toggle-filter-wrapper {
        justify-content: flex-start;
    }

    .toggle-label {
        font-size: 12px;
    }
}

/* ============================================
   Evaluation Audio Player (inline variant)
   ============================================ */

.evaluation-audio-player {
    background: linear-gradient(to bottom, #ffffff 0%, #f8f9fa 100%);
    border: 2px solid var(--primary-color);
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    padding: 20px 24px;
    margin-bottom: 24px;
}

/* Dark theme support */
[data-theme="dark"] .evaluation-audio-player {
    background: linear-gradient(to bottom, #2c2c2e 0%, #1c1c1e 100%);
    border-color: var(--primary-color);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

/* Waveform styling for evaluation player */
#eval-waveform {
    width: 100%;
    height: 60px;
}

/* ============================================
   Client Aggregate Summary
   ============================================ */

/* Light theme (default) */
.client-aggregate-summary {
    margin-top: 20px;
    padding: 15px;
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border-radius: 8px;
    border: 1px solid #bae6fd;
}

.client-aggregate-title {
    color: #0369a1;
    margin-bottom: 10px;
    font-weight: 600;
}

.client-aggregate-content {
    background: white;
    padding: 12px;
    border-radius: 6px;
    font-size: 14px;
    line-height: 1.6;
}

.client-aggregate-date {
    color: #64748b;
    display: block;
    margin-top: 8px;
}

/* Dark theme */
[data-theme="dark"] .client-aggregate-summary {
    background: linear-gradient(135deg, #1e3a5f 0%, #152a47 100%);
    border-color: #2d5a8a;
}

[data-theme="dark"] .client-aggregate-title {
    color: #60a5fa;
}

[data-theme="dark"] .client-aggregate-content {
    background: #1e293b;
    color: #e2e8f0;
}

[data-theme="dark"] .client-aggregate-date {
    color: #94a3b8;
}

/* ============================================
   Template Compliance Badge
   ============================================ */

.compliance-badge {
    display: inline-block;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    margin-right: 6px;
}

.compliance-badge.compliance-high {
    background-color: #dcfce7;
    color: #166534;
}

.compliance-badge.compliance-medium {
    background-color: #fef3c7;
    color: #92400e;
}

.compliance-badge.compliance-low {
    background-color: #fee2e2;
    color: #991b1b;
}

[data-theme="dark"] .compliance-badge.compliance-high {
    background-color: #14532d;
    color: #86efac;
}

[data-theme="dark"] .compliance-badge.compliance-medium {
    background-color: #713f12;
    color: #fde047;
}

[data-theme="dark"] .compliance-badge.compliance-low {
    background-color: #7f1d1d;
    color: #fca5a5;
}

/* ============================================
   Dynamics Arrows (–î–∏–Ω–∞–º–∏–∫–∞ —Å–¥–µ–ª–∫–∏)
   ============================================ */

.dynamics-arrow {
    display: inline-block;
    font-size: 20px;
    font-weight: bold;
    margin-right: 6px;
    vertical-align: middle;
}

.dynamics-arrow.dynamics-positive {
    color: #16a34a; /* –ó–µ–ª—ë–Ω–∞—è —Å—Ç—Ä–µ–ª–∫–∞ */
}

.dynamics-arrow.dynamics-negative {
    color: #dc2626; /* –ö—Ä–∞—Å–Ω–∞—è —Å—Ç—Ä–µ–ª–∫–∞ */
}

[data-theme="dark"] .dynamics-arrow.dynamics-positive {
    color: #4ade80;
}

[data-theme="dark"] .dynamics-arrow.dynamics-negative {
    color: #f87171;
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   CRM Fields Page Styles
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

.tabs-container {
    margin-bottom: 24px;
}

.tabs {
    display: flex;
    gap: 8px;
    border-bottom: 2px solid var(--border-color);
    padding-bottom: 0;
}

.tab-btn {
    padding: 12px 24px;
    background: none;
    border: none;
    border-bottom: 3px solid transparent;
    color: var(--text-muted);
    font-size: 15px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    bottom: -2px;
}

.tab-btn:hover {
    color: var(--text-primary);
    background: var(--bg-secondary);
}

.tab-btn.active {
    color: var(--primary-color);
    border-bottom-color: var(--primary-color);
}

.data-table {
    width: 100%;
    border-collapse: collapse;
    background: var(--bg-card);
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.data-table thead {
    background: var(--bg-secondary);
}

.data-table th {
    padding: 12px 16px;
    text-align: left;
    font-weight: 600;
    font-size: 13px;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.data-table tbody tr {
    border-bottom: 1px solid var(--border-color);
    transition: background 0.15s ease;
}

.data-table tbody tr:hover {
    background: var(--bg-hover);
}

.data-table tbody tr:last-child {
    border-bottom: none;
}

.data-table td {
    padding: 16px;
    font-size: 14px;
    color: var(--text-primary);
}

.badge-type {
    background: var(--bg-secondary);
    color: var(--text-muted);
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
}

.action-buttons {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
}

.btn-icon {
    padding: 6px;
    background: none;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    cursor: pointer;
    color: var(--text-muted);
    transition: all 0.2s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.btn-icon:hover {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border-color: var(--text-muted);
}

.btn-icon.btn-danger {
    color: #dc3545;
    border-color: #dc3545;
}

.btn-icon.btn-danger:hover {
    background: #dc3545;
    color: white;
}

/* ========================================
   UTILITIES - –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ –∫–ª–∞—Å—Å—ã
   ======================================== */

/* Display */
.d-none { display: none !important; }
.d-block { display: block !important; }
.d-flex { display: flex !important; }
.d-inline-flex { display: inline-flex !important; }
.d-grid { display: grid !important; }

/* Flex Direction */
.flex-column { flex-direction: column !important; }
.flex-row { flex-direction: row !important; }
.flex-wrap { flex-wrap: wrap !important; }
.flex-nowrap { flex-wrap: nowrap !important; }

/* Flex Alignment */
.align-start { align-items: flex-start !important; }
.align-center { align-items: center !important; }
.align-end { align-items: flex-end !important; }
.align-stretch { align-items: stretch !important; }

.justify-start { justify-content: flex-start !important; }
.justify-center { justify-content: center !important; }
.justify-end { justify-content: flex-end !important; }
.justify-between { justify-content: space-between !important; }
.justify-around { justify-content: space-around !important; }

.align-self-end { align-self: flex-end !important; }

/* Flex */
.flex-1 { flex: 1 !important; }
.flex-auto { flex: auto !important; }
.flex-grow-1 { flex-grow: 1 !important; }
.flex-shrink-0 { flex-shrink: 0 !important; }

/* Gap */
.gap-0 { gap: 0 !important; }
.gap-1 { gap: 0.25rem !important; }
.gap-2 { gap: 0.5rem !important; }
.gap-3 { gap: 0.75rem !important; }
.gap-4 { gap: 1rem !important; }
.gap-5 { gap: 1.25rem !important; }
.gap-6 { gap: 1.5rem !important; }

/* Margin */
.m-0 { margin: 0 !important; }
.m-1 { margin: 0.25rem !important; }
.m-2 { margin: 0.5rem !important; }
.m-3 { margin: 0.75rem !important; }
.m-4 { margin: 1rem !important; }
.m-auto { margin: auto !important; }

.mt-0 { margin-top: 0 !important; }
.mt-1 { margin-top: 0.25rem !important; }
.mt-2 { margin-top: 0.5rem !important; }
.mt-3 { margin-top: 0.75rem !important; }
.mt-4 { margin-top: 1rem !important; }
.mt-5 { margin-top: 1.5rem !important; }

.mb-0 { margin-bottom: 0 !important; }
.mb-1 { margin-bottom: 0.25rem !important; }
.mb-2 { margin-bottom: 0.5rem !important; }
.mb-3 { margin-bottom: 0.75rem !important; }
.mb-4 { margin-bottom: 1rem !important; }
.mb-5 { margin-bottom: 1.5rem !important; }
.mb-6 { margin-bottom: 2rem !important; }

.ml-0 { margin-left: 0 !important; }
.ml-1 { margin-left: 0.25rem !important; }
.ml-2 { margin-left: 0.5rem !important; }
.ml-3 { margin-left: 0.75rem !important; }
.ml-4 { margin-left: 1rem !important; }
.ml-auto { margin-left: auto !important; }

.mr-0 { margin-right: 0 !important; }
.mr-1 { margin-right: 0.25rem !important; }
.mr-2 { margin-right: 0.5rem !important; }
.mr-3 { margin-right: 0.75rem !important; }
.mr-4 { margin-right: 1rem !important; }
.mr-auto { margin-right: auto !important; }

/* Padding */
.p-0 { padding: 0 !important; }
.p-1 { padding: 0.25rem !important; }
.p-2 { padding: 0.5rem !important; }
.p-3 { padding: 0.75rem !important; }
.p-4 { padding: 1rem !important; }
.p-5 { padding: 1.5rem !important; }

.pt-0 { padding-top: 0 !important; }
.pt-1 { padding-top: 0.25rem !important; }
.pt-2 { padding-top: 0.5rem !important; }
.pt-3 { padding-top: 0.75rem !important; }
.pt-4 { padding-top: 1rem !important; }

.pb-0 { padding-bottom: 0 !important; }
.pb-1 { padding-bottom: 0.25rem !important; }
.pb-2 { padding-bottom: 0.5rem !important; }
.pb-3 { padding-bottom: 0.75rem !important; }
.pb-4 { padding-bottom: 1rem !important; }

.pl-0 { padding-left: 0 !important; }
.pl-1 { padding-left: 0.25rem !important; }
.pl-2 { padding-left: 0.5rem !important; }
.pl-3 { padding-left: 0.75rem !important; }
.pl-4 { padding-left: 1rem !important; }
.pl-6 { padding-left: 1.5rem !important; }

.pr-0 { padding-right: 0 !important; }
.pr-1 { padding-right: 0.25rem !important; }
.pr-2 { padding-right: 0.5rem !important; }
.pr-3 { padding-right: 0.75rem !important; }
.pr-4 { padding-right: 1rem !important; }

.px-2 { padding-left: 0.5rem !important; padding-right: 0.5rem !important; }
.px-3 { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
.px-4 { padding-left: 1rem !important; padding-right: 1rem !important; }

.py-2 { padding-top: 0.5rem !important; padding-bottom: 0.5rem !important; }
.py-3 { padding-top: 0.75rem !important; padding-bottom: 0.75rem !important; }
.py-4 { padding-top: 1rem !important; padding-bottom: 1rem !important; }

/* Width */
.w-100 { width: 100% !important; }
.w-auto { width: auto !important; }
.w-full { width: 100% !important; }
.max-w-400 { max-width: 400px !important; }
.max-w-600 { max-width: 600px !important; }
.max-w-700 { max-width: 700px !important; }
.max-w-800 { max-width: 800px !important; }
.max-w-900 { max-width: 900px !important; }
.max-w-1000 { max-width: 1000px !important; }

/* Height */
.h-100 { height: 100% !important; }
.h-auto { height: auto !important; }
.min-h-300 { min-height: 300px !important; }
.max-h-200 { max-height: 200px !important; }
.max-h-300 { max-height: 300px !important; }
.max-h-400 { max-height: 400px !important; }
.max-h-600 { max-height: 600px !important; }

/* Overflow */
.overflow-auto { overflow: auto !important; }
.overflow-hidden { overflow: hidden !important; }
.overflow-y-auto { overflow-y: auto !important; }
.overflow-x-auto { overflow-x: auto !important; }

/* Text */
.text-center { text-align: center !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }

.text-muted { color: var(--text-muted) !important; }
.text-primary { color: var(--primary-color) !important; }
.text-success { color: var(--success-color) !important; }
.text-danger { color: var(--danger-color) !important; }
.text-warning { color: var(--warning-color) !important; }

.font-normal { font-weight: 400 !important; }
.font-medium { font-weight: 500 !important; }
.font-semibold { font-weight: 600 !important; }
.font-bold { font-weight: 700 !important; }

.text-xs { font-size: 0.75rem !important; }
.text-sm { font-size: 0.875rem !important; }
.text-base { font-size: 1rem !important; }
.text-lg { font-size: 1.125rem !important; }
.text-xl { font-size: 1.25rem !important; }
.text-2xl { font-size: 1.5rem !important; }
.text-3xl { font-size: 1.75rem !important; }

.text-nowrap { white-space: nowrap !important; }
.text-wrap { white-space: normal !important; }
.text-pre-wrap { white-space: pre-wrap !important; }
.text-truncate {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
}

.text-underline { text-decoration: underline !important; }
.text-no-underline { text-decoration: none !important; }

.line-height-normal { line-height: 1.5 !important; }
.line-height-relaxed { line-height: 1.6 !important; }
.line-height-loose { line-height: 1.8 !important; }

/* Font Family */
.font-mono { font-family: monospace !important; }

/* Background */
.bg-white { background-color: white !important; }
.bg-light { background-color: #f8f9fa !important; }
.bg-muted { background-color: #f5f5f5 !important; }
.bg-surface { background-color: var(--surface-color) !important; }
.bg-transparent { background-color: transparent !important; }
.bg-info-light { background-color: #e3f2fd !important; }
.bg-success-light { background-color: #d4edda !important; }
.bg-warning-light { background-color: #fff3cd !important; }
.bg-danger-light { background-color: #f8d7da !important; }

/* Border */
.border { border: 1px solid var(--border-color) !important; }
.border-0 { border: none !important; }
.border-top { border-top: 1px solid var(--border-color) !important; }
.border-bottom { border-bottom: 1px solid var(--border-color) !important; }
.border-left { border-left: 1px solid var(--border-color) !important; }
.border-left-4 { border-left: 4px solid var(--border-color) !important; }
.border-left-primary { border-left: 4px solid var(--primary-color) !important; }
.border-left-success { border-left: 4px solid var(--success-color) !important; }
.border-left-warning { border-left: 4px solid var(--warning-color) !important; }
.border-left-danger { border-left: 4px solid var(--danger-color) !important; }

.rounded { border-radius: var(--radius-md) !important; }
.rounded-sm { border-radius: var(--radius-sm) !important; }
.rounded-lg { border-radius: var(--radius-lg) !important; }
.rounded-full { border-radius: 50% !important; }
.rounded-pill { border-radius: 9999px !important; }

/* Cursor */
.cursor-pointer { cursor: pointer !important; }
.cursor-default { cursor: default !important; }
.cursor-not-allowed { cursor: not-allowed !important; }

/* Position */
.position-relative { position: relative !important; }
.position-absolute { position: absolute !important; }
.position-fixed { position: fixed !important; }
.position-sticky { position: sticky !important; }

/* Grid */
.grid-full-width { grid-column: 1 / -1 !important; }
.grid-span-2 { grid-column: span 2 !important; }
.grid-span-3 { grid-column: span 3 !important; }
.grid-span-4 { grid-column: span 4 !important; }

/* Visibility */
.visible { visibility: visible !important; }
.invisible { visibility: hidden !important; }

/* Opacity */
.opacity-50 { opacity: 0.5 !important; }
.opacity-75 { opacity: 0.75 !important; }
.opacity-100 { opacity: 1 !important; }

/* User Select */
.user-select-none { user-select: none !important; }
.user-select-auto { user-select: auto !important; }

/* ========================================
   Money Tracker Page
   ======================================== */

.money-tracker-page {
    display: flex;
    height: 100vh;
    overflow: hidden;
    margin-left: 15.625rem;
    transition: margin-left 0.3s ease;
}

body.sidebar-collapsed .money-tracker-page {
    margin-left: 4.375rem;
}

.money-tracker-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background: #f8f9fa;
    width: 100%;
}

.money-tracker-header {
    background: white;
    padding: 1rem 1.5rem;
    border-bottom: 0.0625rem solid #e0e0e0;
    flex-shrink: 0;
}

.money-tracker-header h1 {
    margin: 0 0 1rem 0;
    font-size: 1.5rem;
    color: #333;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.money-tracker-body {
    flex: 1;
    overflow-y: auto;
    padding: 1rem 1.5rem;
}

/* Money Tracker Filters */
.money-tracker-header .filters-grid {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.money-tracker-header .filter-group {
    display: flex;
    flex-direction: column;
}

.money-tracker-header .filter-group label {
    font-size: 0.75rem;
    color: #666;
    margin-bottom: 0.25rem;
    font-weight: 500;
}

.money-tracker-header .filter-group input,
.money-tracker-header .filter-group select {
    padding: 0.5rem;
    border: 0.0625rem solid #ddd;
    border-radius: 0.25rem;
    font-size: 0.875rem;
}

.money-tracker-header .filter-actions {
    display: flex;
    gap: 0.5rem;
    align-items: flex-end;
}

/* Money Tracker Batch Selector */
.mt-batch-selector {
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 0.375rem;
    border: 1px solid #dee2e6;
}

.mt-batch-selector-row {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.mt-batch-selector select {
    width: auto;
    max-width: 400px;
    padding: 0.5rem 0.75rem;
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    background: white;
}

/* Money Tracker Worker Status */
.mt-worker-status {
    margin-bottom: 1.5rem;
    padding: 1rem;
    border-radius: 0.375rem;
    border: 1px solid #dee2e6;
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
    background: white;
}

.mt-worker-led {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #ccc;
}

.mt-worker-info {
    font-size: 0.875rem;
    color: #666;
}

.mt-worker-error {
    flex: 1 1 100%;
    margin-top: 0.5rem;
    padding: 0.75rem;
    background: #fff3cd;
    border-left: 4px solid #ffc107;
    border-radius: 0.25rem;
}

.mt-worker-error-title {
    font-weight: 600;
    color: #856404;
    margin-bottom: 0.5rem;
}

.mt-worker-error-list {
    margin: 0;
    padding-left: 1.5rem;
    color: #856404;
    font-size: 0.875rem;
}

/* Money Tracker Bulk Actions */
.mt-bulk-actions {
    background: #e3f2fd;
    padding: 0.75rem 1rem;
    border-radius: 0.25rem;
    margin-bottom: 1rem;
    border-left: 4px solid #2196F3;
}

.mt-bulk-actions-row {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.mt-bulk-actions-count {
    font-weight: 600;
    color: #1976D2;
}

/* Money Tracker Stats */
.mt-stats-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.mt-stat-card {
    background: white;
    padding: 1rem;
    border-radius: 0.5rem;
    box-shadow: 0 0.125rem 0.25rem rgba(0,0,0,0.1);
}

.mt-stat-card-title {
    font-size: 0.875rem;
    color: #666;
    margin-bottom: 0.5rem;
}

.mt-stat-card-value {
    font-size: 2rem;
    font-weight: 600;
    color: #333;
}

.mt-stat-card-subtitle {
    font-size: 0.75rem;
    color: #999;
    margin-top: 0.25rem;
}

/* Money Tracker Table */
.mt-table-container {
    background: white;
    border-radius: 0.5rem;
    box-shadow: 0 0.125rem 0.25rem rgba(0,0,0,0.1);
    overflow: hidden;
}

.mt-table-header {
    padding: 1rem 1.5rem;
    border-bottom: 0.0625rem solid #e0e0e0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.mt-table-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: #333;
}

.mt-table-wrapper {
    overflow-x: auto;
}

.mt-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.875rem;
}

.mt-table thead {
    background: #f5f5f5;
    border-bottom: 0.125rem solid #e0e0e0;
}

.mt-table th {
    padding: 0.75rem 1rem;
    text-align: left;
    font-weight: 600;
    color: #333;
    white-space: nowrap;
}

.mt-table th.sortable {
    cursor: pointer;
    user-select: none;
}

.mt-table th.sortable:hover {
    background: #e8e8e8;
}

.mt-table th.sortable::after {
    content: ' ‚áÖ';
    color: #999;
    font-size: 0.75rem;
}

.mt-table th.sortable.asc::after {
    content: ' ‚Üë';
    color: #2196F3;
}

.mt-table th.sortable.desc::after {
    content: ' ‚Üì';
    color: #2196F3;
}

.mt-table td {
    padding: 0.75rem 1rem;
    border-bottom: 0.0625rem solid #f0f0f0;
}

.mt-table tbody tr:hover {
    background: #f9f9f9;
}

/* Money Tracker Pagination */
.mt-pagination {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    border-top: 0.0625rem solid #e0e0e0;
}

.mt-pagination-info {
    color: #666;
    font-size: 0.875rem;
}

.mt-pagination-controls {
    display: flex;
    gap: 0.5rem;
    align-items: center;
    flex-wrap: wrap;
}

.mt-pagination-btn {
    padding: 0.375rem 0.75rem;
    border: 0.0625rem solid #ddd;
    background: white;
    border-radius: 0.25rem;
    cursor: pointer;
    font-size: 0.875rem;
}

.mt-pagination-btn:hover:not(:disabled) {
    background: #f5f5f5;
}

.mt-pagination-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.mt-pagination-btn.active {
    background: #2196F3;
    color: white;
    border-color: #2196F3;
}

/* Money Tracker Modal */
.mt-modal-content {
    background-color: white;
    margin: 2% auto;
    padding: 0;
    border-radius: 0.5rem;
    width: 90%;
    max-width: 1000px;
    box-shadow: 0 0.25rem 1rem rgba(0,0,0,0.2);
}

.mt-modal-header {
    padding: 1rem 1.5rem;
    border-bottom: 0.0625rem solid #e0e0e0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.mt-modal-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: #333;
}

.mt-modal-close {
    font-size: 1.5rem;
    font-weight: 300;
    color: #999;
    cursor: pointer;
    border: none;
    background: none;
}

.mt-modal-close:hover {
    color: #333;
}

.mt-modal-body {
    padding: 1.5rem;
    max-height: 70vh;
    overflow-y: auto;
}

/* Money Tracker Detail Grid */
.mt-detail-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
}

.mt-detail-item {
    display: flex;
    flex-direction: column;
}

.mt-detail-item.full-width {
    grid-column: 1 / -1;
}

.mt-detail-label {
    font-size: 0.75rem;
    color: #666;
    margin-bottom: 0.25rem;
    font-weight: 600;
}

.mt-detail-value {
    font-size: 0.875rem;
    color: #333;
}

.mt-detail-value.json {
    font-family: monospace;
    background: #f5f5f5;
    padding: 0.5rem;
    border-radius: 0.25rem;
    overflow-x: auto;
    white-space: pre-wrap;
}

/* Money Tracker Loading */
.mt-loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255,255,255,0.8);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 9999;
}

.mt-loading-overlay.active {
    display: flex;
}

.mt-spinner {
    width: 3rem;
    height: 3rem;
    border: 0.25rem solid #f3f3f3;
    border-top: 0.25rem solid #2196F3;
    border-radius: 50%;
    animation: mt-spin 1s linear infinite;
}

@keyframes mt-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Money Tracker Worker Status LED Animations */
@keyframes mt-pulse-green {
    0%, 100% { opacity: 1; box-shadow: 0 0 5px #4CAF50, 0 0 10px #4CAF50; }
    50% { opacity: 0.7; box-shadow: 0 0 2px #4CAF50; }
}

@keyframes mt-pulse-red {
    0%, 100% { opacity: 1; box-shadow: 0 0 5px #f44336, 0 0 10px #f44336; }
    50% { opacity: 0.7; box-shadow: 0 0 2px #f44336; }
}

@keyframes mt-pulse-gray {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}

#worker-status-led.status-healthy {
    background: #4CAF50 !important;
    animation: mt-pulse-green 2s infinite;
}

#worker-status-led.status-error {
    background: #f44336 !important;
    animation: mt-pulse-red 1s infinite;
}

#worker-status-led.status-checking {
    background: #ccc !important;
    animation: mt-pulse-gray 1.5s infinite;
}

/* Money Tracker Solvency Checkbox Group */
.mt-solvency-checkboxes {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.mt-solvency-checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    cursor: pointer;
    font-size: 0.875rem;
}

/* Money Tracker Progress Modal */
.mt-progress-bar-container {
    width: 100%;
    height: 30px;
    background: #e0e0e0;
    border-radius: 15px;
    overflow: hidden;
}

.mt-progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #2196F3, #4CAF50);
    transition: width 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
    font-size: 0.875rem;
}

.mt-progress-log {
    background: #f5f5f5;
    border-radius: 0.25rem;
    padding: 1rem;
    max-height: 300px;
    overflow-y: auto;
    font-family: monospace;
    font-size: 0.8rem;
}

/* Money Tracker Batch Details */
.mt-batch-details-header {
    background: #f8f9fa;
    padding: 1.5rem;
    border-radius: 0.375rem;
    margin-bottom: 1.5rem;
}

.mt-batch-details-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    font-size: 0.875rem;
}

.mt-batch-progress-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 1rem;
    margin-bottom: 1rem;
}

.mt-batch-progress-card {
    text-align: center;
    padding: 1rem;
    border-radius: 0.375rem;
}

.mt-batch-progress-card-value {
    font-size: 1.75rem;
    font-weight: 700;
}

.mt-batch-progress-card-label {
    font-size: 0.75rem;
    color: #495057;
    margin-top: 0.25rem;
}

.mt-batch-progress-bar {
    background: #e9ecef;
    border-radius: 0.5rem;
    overflow: hidden;
    height: 2rem;
    position: relative;
}

.mt-batch-progress-bar-fill {
    background: linear-gradient(90deg, #28a745, #20c997);
    height: 100%;
    transition: width 0.5s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
    font-size: 0.875rem;
}

/* Money Tracker Responsive */
@media (max-width: 1200px) {
    .money-tracker-header .filters-grid {
        grid-template-columns: repeat(4, 1fr);
    }

    .mt-detail-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 1024px) {
    .money-tracker-header .filters-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

@media (max-width: 768px) {
    .money-tracker-page {
        margin-left: 0;
    }

    body.sidebar-collapsed .money-tracker-page {
        margin-left: 0;
    }

    .money-tracker-header .filters-grid {
        grid-template-columns: 1fr;
    }

    .mt-stats-cards {
        grid-template-columns: 1fr;
    }
}

/* Money Tracker Form Elements */
.mt-form-group {
    margin-bottom: 1rem;
}

.mt-form-group.mb-6 {
    margin-bottom: 1.5rem;
}

.mt-form-label {
    display: block;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.mt-form-input {
    width: 100%;
    padding: 0.5rem 0.75rem;
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    background: white;
}

.mt-form-textarea {
    width: 100%;
    min-height: 300px;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 0.25rem;
    font-family: monospace;
    font-size: 0.875rem;
    resize: vertical;
}

.mt-form-hint {
    color: #6c757d;
    font-size: 0.75rem;
    margin-top: 0.25rem;
    display: block;
}

.mt-form-text {
    color: #666;
    margin-bottom: 1rem;
    font-size: 0.875rem;
}

.mt-info-box {
    margin-top: 1rem;
    padding: 0.75rem;
    background: #fff3cd;
    border-left: 4px solid #ffc107;
    border-radius: 0.25rem;
    font-size: 0.875rem;
}

.mt-form-actions {
    margin-top: 1rem;
    display: flex;
    gap: 0.5rem;
    justify-content: flex-end;
}

.mt-file-hint {
    margin-top: 0.5rem;
    font-size: 0.75rem;
    color: #666;
}

.mt-phone-preview {
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 0.25rem;
    padding: 0.75rem;
    max-height: 200px;
    overflow-y: auto;
}

.mt-phone-preview-list {
    font-family: monospace;
    font-size: 0.875rem;
    line-height: 1.8;
}

/* Money Tracker Table Header Info */
.mt-table-info {
    color: #666;
    font-size: 0.875rem;
}

/* Border color utilities for solvency */
.border-left-purple {
    border-left: 4px solid #9C27B0 !important;
}

/* Width utilities for table columns */
.w-40 { width: 40px !important; }
.w-80 { width: 80px !important; }
.w-150 { width: 150px !important; }

/* ========================================
   Rules Page
   ======================================== */

/* Rules Grid */
.rules-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

/* Rule Card */
.rule-card {
    background: var(--card-background);
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
}

.rule-card:hover {
    box-shadow: 0 4px 16px rgba(0,0,0,0.15);
    transform: translateY(-2px);
}

.rule-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 12px;
}

.rule-priority {
    background: var(--primary-color);
    color: white;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: bold;
}

.rule-card-actions {
    display: flex;
    gap: 8px;
    position: absolute;
    top: 16px;
    right: 16px;
}

.rule-card h3 {
    margin: 0 0 8px 0;
    font-size: 18px;
    color: var(--text-color);
    padding-right: 60px;
}

.rule-card p {
    margin: 0 0 12px 0;
    font-size: 14px;
    color: var(--text-muted);
}

.rule-template-name {
    display: inline-block;
    padding: 4px 12px;
    background: var(--accent-color);
    color: white;
    border-radius: 6px;
    font-size: 12px;
    margin-bottom: 8px;
}

.rule-conditions {
    margin-top: 12px;
    padding: 12px;
    background: var(--background-color);
    border-radius: 8px;
    font-size: 13px;
    font-family: 'Courier New', monospace;
    color: var(--text-muted);
}

/* Toggle Switch */
.toggle-switch {
    width: 44px;
    height: 24px;
    background: #ccc;
    border-radius: 12px;
    position: relative;
    cursor: pointer;
    transition: background 0.3s;
}

.toggle-switch::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    background: white;
    border-radius: 50%;
    top: 2px;
    left: 2px;
    transition: left 0.3s;
}

.toggle-switch.active {
    background: var(--success-color);
}

.toggle-switch.active::after {
    left: 22px;
}

/* Condition Builder */
.condition-builder {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 16px;
    background: var(--background-color);
}

.condition-row {
    display: grid;
    grid-template-columns: 2fr 1.5fr 2fr auto;
    gap: 12px;
    margin-bottom: 12px;
    align-items: center;
}

.condition-row select,
.condition-row input {
    padding: 8px 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    font-size: 14px;
    background: var(--card-background);
    color: var(--text-color);
}

/* Rules Page Form Section */
.rules-page .form-section {
    margin-top: 24px;
    padding-top: 24px;
    border-top: 1px solid var(--border-color);
}

.rules-page .form-section h3 {
    margin: 0 0 16px 0;
    font-size: 16px;
}

/* Remove and Icon Buttons */
.btn-remove {
    background: var(--danger-color);
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
}

.btn-remove:hover {
    opacity: 0.8;
}

.icon-btn {
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 8px;
    border-radius: 6px;
    transition: background 0.2s;
}

.icon-btn:hover {
    background: rgba(0,0,0,0.1);
}

.icon-btn-danger:hover {
    background: var(--danger-color);
}

.icon-btn-danger:hover svg {
    stroke: white;
}

/* Badge Inactive */
.badge-inactive {
    background: #95a5a6;
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 11px;
    margin-left: 8px;
}

/* Rules Page Utility Classes */
.rules-header-actions {
    display: flex;
    gap: 10px;
}

.rules-svg-icon {
    margin-right: 8px;
}

.rules-btn-conflict {
    background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
    color: white;
}

.rules-info-list {
    margin: 12px 0 0 20px;
    color: var(--text-muted);
}

.rules-loading-state {
    text-align: center;
    padding: 40px;
}

.rules-fields-section {
    margin-top: 40px;
}

.rules-fields-actions {
    margin: 20px 0;
}

.rules-fields-table {
    margin-top: 20px;
}

.rules-th-center {
    text-align: center;
}

/* Rules Alert Settings Form */
.rules-alert-form {
    max-width: 800px;
}

.rules-form-section {
    margin-bottom: 30px;
}

.rules-form-section-title {
    margin-bottom: 15px;
}

.rules-form-description {
    color: var(--text-muted);
    margin-bottom: 20px;
}

.rules-threshold-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 20px;
}

.rules-form-actions {
    margin-top: 30px;
}

.rules-form-hint {
    color: var(--text-muted);
}

/* Rules Modal Footer Override */
.rules-modal-footer {
    margin-top: 30px;
}

/* Rules Custom Field Form Section */
.rules-custom-field-settings {
    margin-top: 20px;
}

/* Rules Empty State */
.rules-empty-state {
    grid-column: 1 / -1;
    text-align: center;
    padding: 40px;
    color: var(--text-muted);
}

.rules-error-state {
    grid-column: 1 / -1;
    text-align: center;
    padding: 40px;
    color: var(--danger-color);
}

/* Template Fields Table Styles */
.rules-field-emoji {
    text-align: center;
    font-size: 20px;
}

.rules-field-category-standard {
    background: #e3f2fd;
    color: #1976d2;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
}

.rules-field-category-custom {
    background: #fff3e0;
    color: #f57c00;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
}

.rules-checkbox-cell {
    text-align: center;
}

.rules-checkbox-cell input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
}

.rules-action-cell {
    text-align: center;
}

.btn-icon-danger {
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 4px;
}

.btn-icon-danger:hover {
    opacity: 0.7;
}

.rules-action-disabled {
    color: #ccc;
}

/* ========================================
   Analytics Page
   ======================================== */

.analytics-page {
    display: flex;
    height: 100vh;
    overflow: hidden;
    margin-left: var(--sidebar-width);
    transition: margin-left 0.3s ease;
}

.analytics-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background: #f8f9fa;
    width: 100%;
}

.analytics-header {
    background: white;
    padding: 15px 25px;
    border-bottom: 1px solid #e0e0e0;
    flex-shrink: 0;
}

.analytics-header-top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.analytics-header h1 {
    margin: 0;
    font-size: 22px;
    color: #333;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 10px;
}

.dashboard-settings-btn {
    padding: 8px 16px;
    background: #f5f5f5;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 6px;
    text-decoration: none;
    color: #666;
}

.dashboard-settings-btn:hover {
    background: #e0e0e0;
    border-color: #ccc;
}

.dashboard-selector {
    display: flex;
    gap: 10px;
    align-items: center;
    margin-bottom: 15px;
}

.dashboard-selector select {
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
    min-width: 250px;
}

.filters-grid {
    display: grid;
    grid-template-columns: 150px 150px 1fr;
    gap: 10px;
    align-items: end;
}

.filter-group label {
    font-size: 12px;
    color: #666;
    margin-bottom: 4px;
    display: block;
}

.filter-group input {
    padding: 6px 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 13px;
    width: 100%;
}

.filter-actions {
    display: flex;
    gap: 10px;
}

.analytics-body {
    flex: 1;
    overflow-y: auto;
    padding: 15px 20px;
}

/* Dashboard Grid */
.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 15px;
    width: 100%;
}

/* –í–∏–¥–∂–µ—Ç—ã */
.widget {
    background: white;
    border-radius: 6px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    padding: 15px;
    min-height: 100px;
}

.widget-title {
    font-size: 16px;
    font-weight: 600;
    color: #333;
    margin-bottom: 12px;
    text-align: center;
}

/* KPI Card */
.widget-kpi {
    text-align: center;
}

.widget-kpi .kpi-value {
    font-size: 32px;
    font-weight: 600;
    color: #2196F3;
    margin: 10px 0;
}

.widget-kpi .kpi-subtitle {
    font-size: 11px;
    color: #999;
}

/* Chart Widget */
.widget-chart {
    position: relative;
}

.widget-chart canvas {
    max-height: 300px;
}

/* Table Widget */
.widget-table {
    overflow-x: auto;
}

.widget-table table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
}

.widget-table th {
    background: #f5f5f5;
    padding: 8px;
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid #ddd;
}

.widget-table td {
    padding: 8px;
    border-bottom: 1px solid #eee;
}

.widget-table tr:hover {
    background: #f9f9f9;
}

/* Loading */
.widget-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 200px;
    color: #999;
}

/* Error */
.widget-error {
    color: #f44336;
    padding: 20px;
    text-align: center;
}

/* ========================================
   Manager Risks Page
   ======================================== */

.risk-analysis-container {
    padding: 20px;
}

.risk-analysis-container .page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 2px solid #e5e7eb;
}

.risk-analysis-container .page-header h1 {
    margin: 0;
    display: flex;
    align-items: center;
    gap: 10px;
}

.filters-panel {
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    margin-bottom: 20px;
}

.filters-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    align-items: end;
}

.filters-row .filter-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
    color: #374151;
}

.filters-row .filter-group input,
.filters-row .filter-group select {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-size: 14px;
}

.filters-row .filter-group.align-self-end {
    align-self: end;
}

/* Summary Cards */
.summary-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.summary-card {
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.summary-card-title {
    font-size: 14px;
    color: #6b7280;
    margin-bottom: 8px;
}

.summary-card-value {
    font-size: 32px;
    font-weight: bold;
    color: #111827;
}

.summary-card-subtitle {
    font-size: 12px;
    color: #9ca3af;
    margin-top: 4px;
}

.summary-card.critical {
    border-left: 4px solid #dc2626;
}

.summary-card.high {
    border-left: 4px solid #ea580c;
}

/* Risk Table */
.risk-table-container {
    background: white;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    overflow: hidden;
}

.risk-table {
    width: 100%;
    border-collapse: collapse;
}

.risk-table thead {
    background: #f9fafb;
    border-bottom: 2px solid #e5e7eb;
}

.risk-table th {
    padding: 12px 16px;
    text-align: left;
    font-weight: 600;
    color: #374151;
    font-size: 14px;
}

.risk-table th.text-center {
    text-align: center;
}

.risk-table tbody tr {
    border-bottom: 1px solid #e5e7eb;
    transition: background-color 0.2s;
}

.risk-table tbody tr:hover {
    background-color: #f9fafb;
}

.risk-table td {
    padding: 12px 16px;
    font-size: 14px;
    color: #111827;
}

.risk-table td.text-center {
    text-align: center;
}

/* Risk Badge */
.risk-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 16px;
    font-size: 13px;
    font-weight: 600;
}

.risk-badge.critical {
    background-color: #fee2e2;
    color: #dc2626;
    border: 1px solid #fca5a533;
}

.risk-badge.high {
    background-color: #ffedd5;
    color: #ea580c;
    border: 1px solid #fb923c33;
}

.risk-badge.medium {
    background-color: #fef3c7;
    color: #ca8a04;
    border: 1px solid #fbbf2433;
}

.risk-badge.low {
    background-color: #dcfce7;
    color: #16a34a;
    border: 1px solid #4ade8033;
}

/* Risk Score Bar */
.risk-score-bar {
    width: 100px;
    height: 8px;
    background: #e5e7eb;
    border-radius: 4px;
    overflow: hidden;
    position: relative;
}

.risk-score-fill {
    height: 100%;
    transition: width 0.3s ease;
}

.risk-score-fill.critical {
    background: linear-gradient(90deg, #dc2626 0%, #ef4444 100%);
}

.risk-score-fill.high {
    background: linear-gradient(90deg, #ea580c 0%, #f97316 100%);
}

.risk-score-fill.medium {
    background: linear-gradient(90deg, #ca8a04 0%, #eab308 100%);
}

.risk-score-fill.low {
    background: linear-gradient(90deg, #16a34a 0%, #22c55e 100%);
}

.risk-categories {
    font-size: 12px;
    color: #6b7280;
    max-width: 300px;
}

/* Manager Risk Utilities */
.manager-name {
    font-weight: 500;
    color: #111827;
}

.manager-name.clickable {
    cursor: pointer;
    color: #2563eb;
    text-decoration: underline;
}

.department-badge {
    display: inline-block;
    padding: 2px 8px;
    background: #f3f4f6;
    border-radius: 4px;
    font-size: 12px;
    color: #6b7280;
    margin-top: 4px;
}

/* Risk Loading & No Data */
.risk-analysis-container .loading {
    text-align: center;
    padding: 40px;
    color: #6b7280;
}

.risk-analysis-container .no-data {
    text-align: center;
    padding: 40px;
    color: #9ca3af;
    font-style: italic;
}

/* Call Cards */
.call-card {
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 12px;
    cursor: pointer;
    transition: all 0.2s;
}

.call-card:hover {
    border-color: #2563eb;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.call-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.call-card-title {
    font-weight: 600;
    font-size: 15px;
    color: #111827;
}

.call-card-badges {
    display: flex;
    gap: 8px;
    align-items: center;
}

.call-card-info {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 12px;
    font-size: 13px;
    color: #6b7280;
}

.call-card-flags {
    margin-top: 8px;
    font-size: 13px;
    color: #6b7280;
}

/* Alert Items */
.alert-item {
    background: #f9fafb;
    border-left: 4px solid #e5e7eb;
    padding: 16px;
    margin-bottom: 16px;
    border-radius: 6px;
}

.alert-item.critical {
    border-left-color: #dc2626;
    background: #fef2f2;
}

.alert-item.high {
    border-left-color: #ea580c;
    background: #fff7ed;
}

.alert-item.medium {
    border-left-color: #ca8a04;
    background: #fefce8;
}

.alert-item.low {
    border-left-color: #16a34a;
    background: #f0fdf4;
}

.alert-header {
    display: flex;
    justify-content: space-between;
    align-items: start;
    margin-bottom: 12px;
}

.alert-title {
    font-weight: 600;
    font-size: 15px;
    color: #111827;
}

.alert-evidence {
    background: white;
    padding: 12px;
    border-radius: 6px;
    font-style: italic;
    color: #374151;
    margin-top: 8px;
    border: 1px solid #e5e7eb;
}

.alert-meta {
    display: flex;
    gap: 16px;
    margin-top: 8px;
    font-size: 13px;
    color: #6b7280;
}

/* Risk Score Cell */
.risk-score-cell {
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: center;
}

.risk-score-value {
    font-weight: 600;
    min-width: 30px;
}

/* Risk Modal Info */
.risk-modal-info {
    background: #f9fafb;
    padding: 16px;
    border-radius: 8px;
}

.risk-modal-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 12px;
    font-size: 14px;
}

/* Transcript Section */
.transcript-section {
    margin-top: 30px;
}

.transcript-section h3 {
    margin-bottom: 15px;
}

.transcript-text {
    background: #f9fafb;
    padding: 20px;
    border-radius: 8px;
    max-height: 400px;
    overflow-y: auto;
    white-space: pre-wrap;
    font-family: monospace;
    font-size: 13px;
    line-height: 1.6;
}

/* Alert Details Grid */
.alert-details-grid {
    font-size: 13px;
    color: #6b7280;
    margin-top: 4px;
}

.alert-level-text {
    font-size: 12px;
    font-weight: 600;
    color: #6b7280;
}

.alert-confidence {
    font-size: 11px;
    color: #9ca3af;
    margin-top: 2px;
}

.alert-details-header {
    margin-bottom: 16px;
}

.risk-modal-max-height {
    max-height: 600px;
    overflow-y: auto;
}

.svg-icon-mr {
    margin-right: 6px;
}

.risk-calls-list {
    max-height: 600px;
    overflow-y: auto;
}

/* Manager name link in table */
.manager-name-link {
    cursor: pointer;
    color: #2563eb;
    text-decoration: underline;
}

.manager-name-link:hover {
    color: #1d4ed8;
}

/* Risk score cell */
.risk-score-wrapper {
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: center;
}

.risk-score-value {
    font-weight: 600;
    min-width: 30px;
}

/* Total flags cell */
.total-flags-cell {
    font-weight: 600;
    font-size: 16px;
}

/* Alert percentage text */
.alert-percentage-text {
    color: #6b7280;
}

/* Call card footer (alert counts) */
.call-card-footer {
    margin-top: 8px;
    font-size: 13px;
    color: #6b7280;
}

/* Alert scenario text */
.alert-scenario-text {
    font-size: 13px;
    color: #6b7280;
    margin-top: 4px;
}

/* Alert level info (right side) */
.alert-level-info {
    text-align: right;
}

.alert-level-text {
    font-size: 12px;
    font-weight: 600;
    color: #6b7280;
}

.alert-confidence-text {
    font-size: 11px;
    color: #9ca3af;
    margin-top: 2px;
}

/* Alerts section header */
.alerts-section-header {
    margin-bottom: 16px;
}

.alerts-section-title {
    margin: 0 0 16px 0;
}

/* ========================================
   Checklists Page
   ======================================== */

.checklists-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.checklists-container .page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.info-card {
    background: var(--surface-color);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 24px;
}

.info-card h2 {
    margin: 0 0 12px 0;
    font-size: 20px;
    color: var(--text-color);
}

.info-card p {
    margin: 8px 0;
    color: var(--text-muted);
    line-height: 1.6;
}

.checklists-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 20px;
    margin-top: 24px;
}

.checklist-card {
    background: var(--surface-color);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 20px;
    transition: all 0.2s ease;
    position: relative;
}

.checklist-card:hover {
    border-color: var(--primary-color);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.card-actions {
    position: absolute;
    top: 12px;
    right: 12px;
    display: flex;
    gap: 8px;
}

.icon-btn {
    width: 32px;
    height: 32px;
    border: none;
    background: var(--background-color);
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
}

.icon-btn svg {
    pointer-events: none;
}

.icon-btn:hover {
    background: var(--border-color);
}

.icon-btn-danger {
    color: #ff3b30;
}

.icon-btn-danger:hover {
    background: #ff3b30;
    color: white;
}

.toggle-switch {
    position: relative;
    width: 44px;
    height: 24px;
    background: #ccc;
    border-radius: 12px;
    cursor: pointer;
    transition: background 0.3s;
}

.toggle-switch.active {
    background: var(--primary-color);
}

.toggle-switch::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: white;
    top: 2px;
    left: 2px;
    transition: left 0.3s;
}

.toggle-switch.active::after {
    left: 22px;
}

.checklist-icon {
    width: 48px;
    height: 48px;
    background: var(--primary-color);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    margin-bottom: 16px;
}

.checklist-card-content {
    cursor: pointer;
}

.checklist-card h3 {
    margin: 0 0 8px 0;
    font-size: 16px;
    color: var(--text-color);
    padding-right: 80px;
}

.checklist-card p {
    margin: 0 0 16px 0;
    font-size: 14px;
    color: var(--text-muted);
    line-height: 1.5;
}

.checklist-meta {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    align-items: center;
}

/* Checklists modal styles */
.checklists-container .modal-content {
    background: var(--surface-color);
    border-radius: 12px;
    width: 90%;
    max-width: 600px;
    max-height: 90vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.checklists-container .modal-header {
    padding: 20px;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.checklists-container .modal-header h2 {
    margin: 0;
    font-size: 20px;
}

.checklists-container .modal-close {
    background: none;
    border: none;
    font-size: 28px;
    cursor: pointer;
    color: var(--text-muted);
    padding: 0;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.checklists-container .modal-close:hover {
    color: var(--text-color);
}

.checklists-container .modal-body {
    padding: 20px;
    overflow-y: auto;
    flex: 1;
}

.checklists-container .modal-footer {
    padding: 20px;
    border-top: 1px solid var(--border-color);
    display: flex;
    justify-content: flex-end;
    gap: 12px;
}

/* Question item */
.question-item {
    padding: 12px;
    background: var(--background-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-bottom: 12px;
}

.question-item h4 {
    margin: 0 0 8px 0;
    font-size: 14px;
    color: var(--text-color);
}

.question-item p {
    margin: 0;
    font-size: 13px;
    color: var(--text-muted);
}

/* Question item editable */
.question-item-editable {
    margin-bottom: 16px;
    padding: 12px;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    background: var(--background-color);
}

.question-item-editable-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.question-input-group {
    margin-bottom: 8px;
}

.question-input-label {
    display: block;
    margin-bottom: 4px;
    font-size: 12px;
    color: var(--text-muted);
}

.question-input-field {
    width: 100%;
    padding: 8px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    background: var(--background-color);
    color: var(--text-color);
}

/* Checklists loading state */
.checklists-loading-state {
    text-align: center;
    padding: 40px;
}

/* Empty message for templates */
.checklists-empty-msg {
    grid-column: 1 / -1;
    text-align: center;
    color: var(--text-muted);
}

/* Error message */
.checklists-error {
    color: red;
}

/* System lock icon */
.system-lock {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Questions list header in modal */
.questions-list-header {
    margin-top: 20px;
}

.questions-empty-msg {
    color: var(--text-muted);
    margin-top: 20px;
}

/* Editable questions empty */
.editable-questions-empty {
    color: var(--text-muted);
    font-size: 13px;
}

/* Form add button full width */
.btn-add-question {
    margin-top: 12px;
    width: 100%;
}

[data-theme="dark"] .info-card,
[data-theme="dark"] .checklist-card,
[data-theme="dark"] .checklists-container .modal-content {
    background-color: #2c2c2e;
}

/* ========================================
   Index Page (Calls List)
   ======================================== */

/* –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ —á–µ–∫–ª–∏—Å—Ç–æ–≤ */
.compliance-column {
    text-align: center;
    min-width: 80px;
}

/* –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ compliance –∑–Ω–∞—á–µ–Ω–∏–π */
.compliance-value {
    font-weight: 600;
    padding: 2px 8px;
    border-radius: 4px;
}

.compliance-high {
    color: #10b981;
    background-color: #d1fae5;
}

.compliance-medium {
    color: #f59e0b;
    background-color: #fef3c7;
}

.compliance-low {
    color: #ef4444;
    background-color: #fee2e2;
}

.compliance-na {
    color: #9ca3af;
}

/* –ö–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–ª–æ–Ω–æ–∫ */
.btn-settings {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    background: #f5f5f5;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s;
    color: #666;
}

.btn-settings:hover {
    background: #e0e0e0;
    border-color: #ccc;
}

/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–ª–æ–Ω–æ–∫ */
.columns-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 10000;
    align-items: center;
    justify-content: center;
}

.columns-modal.active {
    display: flex;
}

.columns-modal-content {
    background: white;
    border-radius: 8px;
    width: 90%;
    max-width: 600px;
    max-height: 80vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.columns-modal-header {
    padding: 20px;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.columns-modal-header h2 {
    margin: 0;
    font-size: 18px;
    color: #333;
}

.columns-modal-close {
    background: none;
    border: none;
    font-size: 24px;
    color: #999;
    cursor: pointer;
    padding: 0;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
}

.columns-modal-close:hover {
    background: #f5f5f5;
    color: #333;
}

.columns-modal-body {
    padding: 20px;
    overflow-y: auto;
    flex: 1;
}

.columns-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
}

.column-item {
    display: flex;
    align-items: center;
    padding: 10px;
    border: 1px solid #e0e0e0;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
}

.column-item:hover {
    background: #f9f9f9;
    border-color: #2196F3;
}

.column-item input[type="checkbox"] {
    margin-right: 10px;
    cursor: pointer;
}

.column-item.disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.column-item.disabled:hover {
    background: white;
    border-color: #e0e0e0;
}

.columns-modal-footer {
    padding: 15px 20px;
    border-top: 1px solid #e0e0e0;
    display: flex;
    justify-content: space-between;
    gap: 10px;
}

.btn-reset {
    padding: 10px 20px;
    background: #f5f5f5;
    border: 1px solid #ddd;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-reset:hover {
    background: #e0e0e0;
}

.btn-apply {
    padding: 10px 24px;
    background: #2196F3;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.2s;
}

.btn-apply:hover {
    background: #1976D2;
}

/* Table column widths */
.col-checkbox {
    width: 40px;
}

.col-tag {
    width: 50px;
}

.col-note {
    min-width: 200px;
}

[data-theme="dark"] .columns-modal-content {
    background: #2c2c2e;
    color: var(--text-color);
}

[data-theme="dark"] .columns-modal-header,
[data-theme="dark"] .columns-modal-footer {
    border-color: var(--border-color);
}

[data-theme="dark"] .columns-modal-header h2 {
    color: var(--text-color);
}

[data-theme="dark"] .column-item {
    border-color: var(--border-color);
}

[data-theme="dark"] .column-item:hover {
    background: var(--background-color);
}

[data-theme="dark"] .btn-settings,
[data-theme="dark"] .btn-reset {
    background: var(--background-color);
    border-color: var(--border-color);
    color: var(--text-color);
}

[data-theme="dark"] .btn-settings:hover,
[data-theme="dark"] .btn-reset:hover {
    background: var(--border-color);
}

/* ========================================
   Skill Mapping Page
   ======================================== */

.skill-mapping-page {
    display: flex;
    height: 100vh;
    overflow: hidden;
    margin-left: var(--sidebar-width);
    transition: margin-left 0.3s ease;
}

.skill-mapping-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background: #f8f9fa;
}

.mapping-header {
    background: white;
    padding: 20px 25px;
    border-bottom: 1px solid #e0e0e0;
    flex-shrink: 0;
}

.mapping-header h1 {
    margin: 0 0 5px 0;
    font-size: 22px;
    color: #333;
    font-weight: 600;
}

.mapping-header p {
    margin: 0;
    color: #666;
    font-size: 13px;
}

.mapping-body {
    flex: 1;
    overflow-y: auto;
    padding: 20px 25px;
}

/* Template Cards */
.template-card {
    background: white;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    margin-bottom: 20px;
    overflow: hidden;
}

.template-card-header {
    padding: 15px 20px;
    background: #f8f9fa;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
}

.template-card-header:hover {
    background: #e9ecef;
}

.template-card-header h3 {
    margin: 0;
    font-size: 16px;
    color: #333;
    display: flex;
    align-items: center;
    gap: 10px;
}

.template-card-header .badge {
    font-size: 11px;
    padding: 3px 8px;
    border-radius: 3px;
    font-weight: 500;
}

.badge-active {
    background: #e8f5e9;
    color: #2e7d32;
}

.badge-mapped {
    background: #e3f2fd;
    color: #1565c0;
}

.template-card-body {
    padding: 0;
    display: none;
}

.template-card.expanded .template-card-body {
    display: block;
}

.expand-icon {
    transition: transform 0.2s;
}

.template-card.expanded .expand-icon {
    transform: rotate(180deg);
}

/* Question Rows */
.question-row {
    display: flex;
    align-items: center;
    padding: 12px 20px;
    border-bottom: 1px solid #f0f0f0;
    gap: 15px;
}

.question-row:last-child {
    border-bottom: none;
}

.question-row:hover {
    background: #f8f9fa;
}

.question-info {
    flex: 1;
}

.question-text {
    font-size: 14px;
    color: #333;
    margin-bottom: 4px;
}

.question-code {
    font-size: 11px;
    color: #999;
    font-family: monospace;
}

.mapping-status {
    display: flex;
    align-items: center;
    gap: 10px;
}

.mapping-indicator {
    width: 10px;
    height: 10px;
    border-radius: 50%;
}

.mapping-indicator.mapped {
    background: #4CAF50;
}

.mapping-indicator.unmapped {
    background: #e0e0e0;
}

.mapping-summary {
    font-size: 12px;
    color: #666;
    max-width: 200px;
}

/* Stats Panel */
.stats-panel {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
}

.stat-card {
    background: white;
    border-radius: 8px;
    padding: 15px 20px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    flex: 1;
}

.stat-card h4 {
    margin: 0 0 5px 0;
    font-size: 12px;
    color: #999;
    text-transform: uppercase;
}

.stat-card .value {
    font-size: 24px;
    font-weight: 600;
    color: #333;
}

.stat-card .subtext {
    font-size: 12px;
    color: #666;
    margin-top: 5px;
}

/* Spinner */
.spinner {
    display: inline-block;
    width: 30px;
    height: 30px;
    border: 3px solid #f3f3f3;
    border-top: 3px solid #2196F3;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Toast */
.toast {
    position: fixed;
    top: 20px;
    right: 20px;
    background: white;
    padding: 15px 20px;
    border-radius: 6px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 2000;
    display: none;
}

.toast.active {
    display: block;
    animation: slideIn 0.3s ease;
}

.toast.success {
    border-left: 4px solid #4CAF50;
}

.toast.error {
    border-left: 4px solid #f44336;
}

@keyframes slideIn {
    from {
        transform: translateX(100px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* Threshold Inputs */
.threshold-inputs {
    display: flex;
    gap: 10px;
    align-items: center;
}

.threshold-inputs input {
    width: 80px;
}

.threshold-visual {
    display: flex;
    height: 8px;
    border-radius: 4px;
    overflow: hidden;
    margin-top: 8px;
}

.threshold-visual .zone {
    flex: 1;
}

.threshold-visual .zone.critical {
    background: #f44336;
}

.threshold-visual .zone.warning {
    background: #FFC107;
}

.threshold-visual .zone.ok {
    background: #4CAF50;
}

/* Skill mapping form elements */
.skill-mapping-question-display {
    padding: 10px;
    background: #f5f5f5;
    border-radius: 4px;
    font-size: 14px;
}

.skill-mapping-separator {
    margin: 20px 0;
    border: none;
    border-top: 1px solid #e0e0e0;
}

.skill-mapping-section-title {
    margin: 0 0 15px 0;
    font-size: 14px;
    color: #555;
}

.skill-mapping-error {
    color: #c62828;
}

[data-theme="dark"] .skill-mapping-content {
    background: var(--background-color);
}

[data-theme="dark"] .mapping-header,
[data-theme="dark"] .template-card,
[data-theme="dark"] .stat-card,
[data-theme="dark"] .toast {
    background: var(--surface-color);
}

[data-theme="dark"] .mapping-header h1,
[data-theme="dark"] .template-card-header h3,
[data-theme="dark"] .question-text,
[data-theme="dark"] .stat-card .value {
    color: var(--text-color);
}

[data-theme="dark"] .template-card-header {
    background: var(--background-color);
    border-color: var(--border-color);
}

[data-theme="dark"] .question-row:hover,
[data-theme="dark"] .template-card-header:hover {
    background: var(--border-color);
}

[data-theme="dark"] .skill-mapping-question-display {
    background: var(--background-color);
    color: var(--text-color);
}

/* =========================================
   DEAL DYNAMICS PAGE STYLES
   ========================================= */

/* Deal Status Badges */
.deal-status-badge {
    display: inline-block;
    padding: 6px 12px;
    border-radius: 16px;
    font-size: 13px;
    font-weight: 600;
}

.deal-status-badge.hot {
    background: #fee2e2;
    color: #dc2626;
}

.deal-status-badge.warm {
    background: #fff7ed;
    color: #ea580c;
}

.deal-status-badge.cold {
    background: #dbeafe;
    color: #2563eb;
}

.deal-status-badge.lost {
    background: #f3f4f6;
    color: #6b7280;
    text-decoration: line-through;
}

/* Compliance Bar */
.deal-compliance-bar {
    background: #e5e7eb;
    height: 8px;
    border-radius: 4px;
    overflow: hidden;
    width: 60px;
}

.deal-compliance-fill {
    height: 100%;
    background: linear-gradient(90deg, #16a34a 0%, #22c55e 100%);
    transition: width 0.3s ease;
}

.deal-compliance-wrapper {
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: center;
}

.deal-compliance-value {
    font-weight: 600;
    min-width: 35px;
}

/* Summary Cards */
.deal-summary-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.deal-summary-card {
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.deal-summary-card.hot-border {
    border-left: 4px solid #dc2626;
}

.deal-summary-card.warm-border {
    border-left: 4px solid #ea580c;
}

.deal-summary-card.cold-border {
    border-left: 4px solid #2563eb;
}

.deal-summary-card-title {
    font-size: 14px;
    color: #6b7280;
    margin-bottom: 8px;
}

.deal-summary-card-value {
    font-size: 32px;
    font-weight: bold;
    color: #111827;
}

/* Deal Table */
.deal-table-container {
    background: white;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    overflow: hidden;
}

.deal-table {
    width: 100%;
    border-collapse: collapse;
}

.deal-table thead {
    background: #f9fafb;
    border-bottom: 2px solid #e5e7eb;
}

.deal-table th {
    padding: 12px 16px;
    text-align: left;
    font-weight: 600;
    color: #374151;
    font-size: 14px;
}

.deal-table th.text-center {
    text-align: center;
}

.deal-table tbody tr {
    border-bottom: 1px solid #e5e7eb;
    transition: background-color 0.2s;
    cursor: pointer;
}

.deal-table tbody tr:hover {
    background-color: #f9fafb;
}

.deal-table td {
    padding: 12px 16px;
    font-size: 14px;
    color: #111827;
}

.deal-table td.text-center {
    text-align: center;
}

/* Deal Table Cells */
.deal-summary-text-cell {
    max-width: 300px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.deal-objections-cell {
    max-width: 250px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: #dc2626;
}

.deal-next-steps-cell {
    max-width: 250px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: #2563eb;
}

.deal-manager-name {
    font-weight: 500;
}

.deal-crm-link {
    color: #2563eb;
    text-decoration: none;
    font-weight: 500;
}

.deal-crm-link:hover {
    text-decoration: underline;
}

/* Filter alignment */
.filter-group-end {
    align-self: end;
}

/* Dark Theme */
[data-theme="dark"] .deal-summary-card,
[data-theme="dark"] .deal-table-container {
    background: var(--surface-color);
}

[data-theme="dark"] .deal-summary-card-value,
[data-theme="dark"] .deal-table td {
    color: var(--text-color);
}

[data-theme="dark"] .deal-table thead {
    background: var(--background-color);
}

[data-theme="dark"] .deal-table th {
    color: var(--text-color);
}

[data-theme="dark"] .deal-table tbody tr:hover {
    background-color: var(--border-color);
}

[data-theme="dark"] .deal-compliance-bar {
    background: var(--border-color);
}

/* =========================================
   MOODLE STUDENTS PAGE STYLES
   ========================================= */

/* Tabs (used in moodle_students.php) */
.tabs-container {
    background: white;
    border-bottom: 2px solid #e0e0e0;
    padding: 0 25px;
}

.tabs {
    display: flex;
    gap: 5px;
}

.tab-btn {
    padding: 12px 20px;
    border: none;
    background: transparent;
    color: #666;
    font-size: 14px;
    cursor: pointer;
    border-bottom: 3px solid transparent;
    transition: all 0.2s;
}

.tab-btn.active {
    color: #2196F3;
    border-bottom-color: #2196F3;
}

.tab-btn:hover:not(.active) {
    color: #333;
    background: #f5f5f5;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

/* Moodle Page Tables */
.moodle-students-page table {
    width: 100%;
    border-collapse: collapse;
}

.moodle-students-page thead {
    background: #f8f9fa;
}

.moodle-students-page th {
    text-align: left;
    padding: 12px 15px;
    font-weight: 600;
    font-size: 13px;
    color: #555;
    border-bottom: 2px solid #e0e0e0;
}

.moodle-students-page td {
    padding: 12px 15px;
    font-size: 13px;
    color: #333;
    border-bottom: 1px solid #f0f0f0;
}

.moodle-students-page tbody tr:hover {
    background: #f8f9fa;
}

/* Moodle Page Badges */
.badge-high {
    background: #ffebee;
    color: #c62828;
}

.badge-medium {
    background: #fff3e0;
    color: #ef6c00;
}

.badge-low {
    background: #e8f5e9;
    color: #2e7d32;
}

.badge-sent {
    background: #e3f2fd;
    color: #1565c0;
}

.badge-viewed {
    background: #e8f5e9;
    color: #2e7d32;
}

.badge-failed {
    background: #ffebee;
    color: #c62828;
}

/* Moodle Page Buttons */
.btn-info {
    background: #00BCD4;
    color: white;
}

.btn-sm {
    padding: 4px 8px;
    font-size: 11px;
}

/* Progress bar */
.progress-bar {
    width: 100%;
    height: 6px;
    background: #e0e0e0;
    border-radius: 3px;
    overflow: hidden;
    margin-top: 5px;
}

.progress-fill {
    height: 100%;
    background: #4CAF50;
    transition: width 0.3s;
}

/* Modal with .active pattern (used in moodle_students, skill_mapping, etc.) */
#modal-student-details,
#modal-hrbot-details,
#modal-send-webhook,
#modal-mapping {
    display: none !important;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
}

#modal-student-details.active,
#modal-hrbot-details.active,
#modal-send-webhook.active,
#modal-mapping.active {
    display: flex !important;
    align-items: center;
    justify-content: center;
}

#modal-student-details .modal-content,
#modal-hrbot-details .modal-content,
#modal-send-webhook .modal-content,
#modal-mapping .modal-content {
    background: white;
    border-radius: 8px;
    padding: 20px;
    max-width: 600px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    animation: none;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
}

#modal-hrbot-details .modal-content {
    max-width: 800px;
}

#modal-student-details .modal-header,
#modal-hrbot-details .modal-header,
#modal-send-webhook .modal-header,
#modal-mapping .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding-bottom: 15px;
    border-bottom: 1px solid #e0e0e0;
}

#modal-student-details .modal-header h3,
#modal-hrbot-details .modal-header h3,
#modal-send-webhook .modal-header h3,
#modal-mapping .modal-header h3 {
    margin: 0;
    font-size: 18px;
    color: #333;
}

#modal-student-details .close-modal,
#modal-hrbot-details .close-modal,
#modal-send-webhook .close-modal,
#modal-mapping .close-modal {
    background: none;
    border: none;
    font-size: 24px;
    color: #999;
    cursor: pointer;
    padding: 0;
    width: 30px;
    height: 30px;
    line-height: 30px;
}

.moodle-students-page {
    display: flex;
    height: 100vh;
    overflow: hidden;
    margin-left: var(--sidebar-width);
    transition: margin-left 0.3s ease;
}

.moodle-students-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background: #f8f9fa;
}

.students-header {
    background: white;
    padding: 20px 25px;
    border-bottom: 1px solid #e0e0e0;
    flex-shrink: 0;
}

.students-header h1 {
    margin: 0 0 5px 0;
    font-size: 22px;
    color: #333;
    font-weight: 600;
}

.students-header p {
    margin: 0;
    color: #666;
    font-size: 13px;
}

.students-actions {
    display: flex;
    gap: 10px;
    margin-top: 15px;
}

/* Moodle Page Tabs */
.moodle-tabs-container {
    background: white;
    border-bottom: 2px solid #e0e0e0;
    padding: 0 25px;
}

.moodle-tabs {
    display: flex;
    gap: 5px;
}

.moodle-tab-btn {
    padding: 12px 20px;
    border: none;
    background: transparent;
    color: #666;
    font-size: 14px;
    cursor: pointer;
    border-bottom: 3px solid transparent;
    transition: all 0.2s;
}

.moodle-tab-btn.active {
    color: #2196F3;
    border-bottom-color: #2196F3;
}

.moodle-tab-btn:hover:not(.active) {
    color: #333;
    background: #f5f5f5;
}

.students-body {
    flex: 1;
    overflow-y: auto;
    padding: 20px 25px;
}

.moodle-tab-content {
    display: none;
}

.moodle-tab-content.active {
    display: block;
}

/* Moodle Badges */
.moodle-badge-high {
    background: #ffebee;
    color: #c62828;
}

.moodle-badge-medium {
    background: #fff3e0;
    color: #ef6c00;
}

.moodle-badge-low {
    background: #e8f5e9;
    color: #2e7d32;
}

.moodle-badge-sent {
    background: #e3f2fd;
    color: #1565c0;
}

.moodle-badge-viewed {
    background: #e8f5e9;
    color: #2e7d32;
}

.moodle-badge-failed {
    background: #ffebee;
    color: #c62828;
}

/* Progress Bar */
.moodle-progress-bar {
    width: 100%;
    height: 6px;
    background: #e0e0e0;
    border-radius: 3px;
    overflow: hidden;
    margin-top: 5px;
}

.moodle-progress-fill {
    height: 100%;
    background: #4CAF50;
    transition: width 0.3s;
}

/* Content Blocks Tree */
.blocks-search {
    margin-bottom: 20px;
}

.blocks-search input {
    width: 100%;
    padding: 10px 15px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
}

.blocks-tree {
    background: white;
    border-radius: 6px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    padding: 15px;
}

.block-page {
    margin-bottom: 15px;
}

.block-page-title {
    padding: 10px;
    background: #f8f9fa;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.block-page-title:hover {
    background: #e3f2fd;
}

.block-list {
    padding-left: 30px;
    margin-top: 10px;
}

.block-item {
    padding: 8px 10px;
    margin: 3px 0;
    border-left: 3px solid #e0e0e0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.block-item:hover {
    border-left-color: #2196F3;
    background: #f8f9fa;
}

.block-title {
    font-size: 13px;
    color: #333;
}

.block-anchor {
    font-size: 11px;
    color: #999;
    font-family: monospace;
}

.block-actions {
    display: flex;
    gap: 5px;
}

/* Moodle Specific Utility Classes */
.moodle-stats-margin {
    margin-bottom: 20px;
}

.moodle-modal-wide {
    max-width: 800px;
}

.moodle-anchor-suggestions {
    display: none;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-top: 5px;
    max-height: 200px;
    overflow-y: auto;
    background: white;
}

.moodle-modal-footer {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
}

/* Dark Theme */
[data-theme="dark"] .moodle-students-content,
[data-theme="dark"] .students-header,
[data-theme="dark"] .moodle-tabs-container {
    background: var(--surface-color);
}

[data-theme="dark"] .students-header h1 {
    color: var(--text-color);
}

[data-theme="dark"] .moodle-tab-btn:hover:not(.active) {
    background: var(--border-color);
}

[data-theme="dark"] .blocks-tree,
[data-theme="dark"] .block-page-title {
    background: var(--background-color);
}

[data-theme="dark"] .moodle-anchor-suggestions {
    background: var(--surface-color);
    border-color: var(--border-color);
}

/* Dark Theme for Tabs (unprefixed) */
[data-theme="dark"] .tabs-container {
    background: var(--surface-color);
    border-color: var(--border-color);
}

[data-theme="dark"] .tab-btn {
    color: var(--text-secondary);
}

[data-theme="dark"] .tab-btn.active {
    color: var(--primary-color);
}

[data-theme="dark"] .tab-btn:hover:not(.active) {
    background: var(--border-color);
    color: var(--text-color);
}

[data-theme="dark"] .moodle-students-page table {
    background: var(--surface-color);
}

[data-theme="dark"] .moodle-students-page thead {
    background: var(--background-color);
}

[data-theme="dark"] .moodle-students-page th {
    color: var(--text-color);
    border-color: var(--border-color);
}

[data-theme="dark"] .moodle-students-page td {
    color: var(--text-color);
    border-color: var(--border-color);
}

[data-theme="dark"] .moodle-students-page tbody tr:hover {
    background: var(--border-color);
}

[data-theme="dark"] #modal-student-details .modal-content,
[data-theme="dark"] #modal-hrbot-details .modal-content,
[data-theme="dark"] #modal-send-webhook .modal-content,
[data-theme="dark"] #modal-mapping .modal-content {
    background: var(--surface-color);
}

[data-theme="dark"] #modal-student-details .modal-header h3,
[data-theme="dark"] #modal-hrbot-details .modal-header h3,
[data-theme="dark"] #modal-send-webhook .modal-header h3,
[data-theme="dark"] #modal-mapping .modal-header h3 {
    color: var(--text-color);
}

/* ========================================
   Responsive: Page Containers
   ======================================== */

/* Collapsed Sidebar State */
body.sidebar-collapsed .analytics-page,
body.sidebar-collapsed .skill-mapping-page,
body.sidebar-collapsed .moodle-students-page {
    margin-left: var(--sidebar-width-collapsed);
}

/* Tablet: 992px */
@media (max-width: 992px) {
    .analytics-page,
    .skill-mapping-page,
    .moodle-students-page {
        margin-left: var(--sidebar-width-collapsed);
    }

    /* Analytics page header */
    .analytics-header-top {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }

    /* Skill mapping */
    .mapping-header {
        padding: 15px 20px;
    }

    .mapping-body {
        padding: 15px 20px;
    }

    /* Moodle students */
    .students-header {
        padding: 15px 20px;
    }

    .students-body {
        padding: 15px 20px;
    }

    .tabs-container {
        padding: 0 15px;
    }

    /* Tables */
    .moodle-students-page table {
        font-size: 12px;
    }

    .moodle-students-page th,
    .moodle-students-page td {
        padding: 8px 10px;
    }
}

/* Mobile: 768px */
@media (max-width: 768px) {
    .analytics-page,
    .skill-mapping-page,
    .moodle-students-page {
        margin-left: 0;
        height: auto;
        min-height: 100vh;
    }

    /* Fix overflow for mobile */
    .analytics-page,
    .skill-mapping-page,
    .moodle-students-page {
        overflow: auto;
    }

    /* Analytics */
    .analytics-header {
        padding: 15px;
    }

    .analytics-header h1 {
        font-size: 18px;
    }

    /* Skill mapping */
    .mapping-header {
        padding: 15px;
    }

    .mapping-header h1 {
        font-size: 18px;
    }

    .mapping-body {
        padding: 15px;
    }

    .template-card {
        padding: 15px;
    }

    /* Moodle students */
    .students-header {
        padding: 15px;
    }

    .students-header h1 {
        font-size: 18px;
    }

    .students-actions {
        flex-direction: column;
    }

    .students-body {
        padding: 15px;
    }

    /* Tabs responsive */
    .tabs-container {
        padding: 0 10px;
        overflow-x: auto;
    }

    .tabs {
        min-width: max-content;
    }

    .tab-btn {
        padding: 10px 15px;
        font-size: 13px;
        white-space: nowrap;
    }

    /* Tables scroll on mobile */
    .moodle-students-page .table-container {
        overflow-x: auto;
    }

    .moodle-students-page table {
        min-width: 600px;
    }

    /* Modal responsive */
    .moodle-modal-wide {
        max-width: 95%;
        margin: 10px;
    }

    #modal-student-details .modal-content,
    #modal-hrbot-details .modal-content,
    #modal-send-webhook .modal-content,
    #modal-mapping .modal-content {
        max-width: 95%;
        margin: 10px;
        max-height: 90vh;
        overflow-y: auto;
    }
}

/* ========================================
   Dashboard Settings Page
   ======================================== */

.dashboard-settings-page {
    display: flex;
    height: 100vh;
    overflow: hidden;
    margin-left: var(--sidebar-width);
    transition: margin-left 0.3s ease;
}

body.sidebar-collapsed .dashboard-settings-page {
    margin-left: var(--sidebar-width-collapsed);
}

.dashboard-settings-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background: #f8f9fa;
}

.settings-header {
    background: white;
    padding: 20px 25px;
    border-bottom: 1px solid #e0e0e0;
    flex-shrink: 0;
}

.settings-header h1 {
    margin: 0 0 10px 0;
    font-size: 22px;
    color: #333;
    font-weight: 600;
}

.settings-actions {
    display: flex;
    gap: 10px;
    margin-top: 15px;
}

.settings-body {
    flex: 1;
    overflow-y: auto;
    padding: 20px 25px;
}

/* Dashboard List */
.dashboard-list {
    background: white;
    border-radius: 6px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.dashboard-item {
    padding: 15px 20px;
    border-bottom: 1px solid #eee;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.dashboard-item:last-child {
    border-bottom: none;
}

.dashboard-info {
    flex: 1;
}

.dashboard-name {
    font-size: 16px;
    font-weight: 600;
    color: #333;
    margin-bottom: 4px;
}

.dashboard-meta {
    font-size: 12px;
    color: #999;
}

.dashboard-actions {
    display: flex;
    gap: 8px;
}

/* Widget Editor */
.widget-list {
    border: 1px solid #ddd;
    border-radius: 4px;
    max-height: 400px;
    overflow-y: auto;
}

.widget-item {
    padding: 12px 15px;
    border-bottom: 1px solid #eee;
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: white;
}

.widget-item:hover {
    background: #f9f9f9;
}

.widget-item:last-child {
    border-bottom: none;
}

.widget-item-info {
    flex: 1;
}

.widget-title {
    font-size: 14px;
    font-weight: 500;
    color: #333;
}

.widget-details {
    font-size: 11px;
    color: #999;
    margin-top: 2px;
}

.widget-item-actions {
    display: flex;
    gap: 6px;
}

.btn-icon {
    background: #f5f5f5;
    border: none;
    padding: 4px 8px;
    border-radius: 3px;
    cursor: pointer;
    font-size: 12px;
    color: #666;
}

.btn-icon:hover {
    background: #e0e0e0;
}

/* Widget Config Form */
.widget-config-section {
    background: #f9f9f9;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 15px;
    margin-top: 10px;
}

.widget-config-section h4 {
    margin: 0 0 12px 0;
    font-size: 14px;
    color: #555;
}

/* ========================================
   Balance Topup Page
   ======================================== */

.topup-page {
    display: flex;
    height: 100vh;
    overflow: hidden;
    margin-left: var(--sidebar-width);
    transition: margin-left 0.3s ease;
}

body.sidebar-collapsed .topup-page {
    margin-left: var(--sidebar-width-collapsed);
}

.topup-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background: #f8f9fa;
    width: 100%;
}

.topup-header {
    background: white;
    padding: 20px 25px;
    border-bottom: 1px solid #e0e0e0;
    flex-shrink: 0;
}

.topup-header h1 {
    margin: 0;
    font-size: 24px;
    color: #333;
    font-weight: 600;
}

.topup-body {
    flex: 1;
    overflow-y: auto;
    padding: 25px;
}

.topup-container {
    max-width: 800px;
    margin: 0 auto;
}

.balance-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 12px;
    margin-bottom: 25px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.balance-card h2 {
    margin: 0 0 20px 0;
    font-size: 18px;
    opacity: 0.9;
}

.balance-display {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.balance-item {
    background: rgba(255, 255, 255, 0.15);
    padding: 20px;
    border-radius: 8px;
    backdrop-filter: blur(10px);
}

.balance-label {
    font-size: 13px;
    opacity: 0.9;
    margin-bottom: 8px;
    display: block;
}

.balance-value {
    font-size: 32px;
    font-weight: 700;
}

.topup-form-card {
    background: white;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.topup-form-card h2 {
    margin: 0 0 25px 0;
    font-size: 20px;
    color: #333;
}

.amount-presets {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    margin-top: 10px;
}

.amount-preset {
    padding: 12px;
    background: #f5f5f5;
    border: 2px solid #e0e0e0;
    border-radius: 6px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s;
    font-weight: 500;
}

.amount-preset:hover {
    background: #e3f2fd;
    border-color: #667eea;
}

.amount-preset.active {
    background: #667eea;
    border-color: #667eea;
    color: white;
}

.conversion-info {
    background: #e3f2fd;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 20px;
    font-size: 14px;
    color: #1565c0;
}

.conversion-info strong {
    font-weight: 600;
}

.btn-submit {
    width: 100%;
    padding: 14px 24px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-submit:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.btn-submit:disabled {
    background: #ccc;
    cursor: not-allowed;
    transform: none;
}

.demo-notice {
    background: #fff3cd;
    border: 1px solid #ffc107;
    padding: 15px;
    border-radius: 6px;
    margin-top: 20px;
    font-size: 14px;
    color: #856404;
}

/* Responsive: Dashboard Settings & Topup Pages */
@media (max-width: 992px) {
    .dashboard-settings-page,
    .topup-page {
        margin-left: var(--sidebar-width-collapsed);
    }

    .settings-header,
    .topup-header {
        padding: 15px 20px;
    }

    .settings-body,
    .topup-body {
        padding: 15px 20px;
    }
}

@media (max-width: 768px) {
    .dashboard-settings-page,
    .topup-page {
        margin-left: 0;
        height: auto;
        min-height: 100vh;
        overflow: auto;
    }

    .settings-header h1,
    .topup-header h1 {
        font-size: 18px;
    }

    .settings-actions {
        flex-direction: column;
    }

    .dashboard-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }

    .dashboard-actions {
        width: 100%;
        justify-content: flex-start;
    }

    .balance-display {
        grid-template-columns: 1fr;
    }

    .amount-presets {
        grid-template-columns: repeat(2, 1fr);
    }

    .topup-form-card {
        padding: 20px;
    }
}

/* ========================================
   Organization Info (sidebar header)
   ======================================== */

.organization-info {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 15px;
    margin: -10px -10px 15px -10px;
    border-radius: 8px 8px 0 0;
}

.org-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
}

.org-name {
    font-size: 16px;
    font-weight: 600;
    flex: 1;
}

.org-badge {
    padding: 3px 8px;
    font-size: 11px;
    font-weight: 700;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.3);
    backdrop-filter: blur(10px);
}

.org-badge-trial {
    background: rgba(33, 150, 243, 0.3);
    color: #fff;
}

.org-badge-suspended {
    background: rgba(244, 67, 54, 0.3);
    color: #fff;
}

.org-details {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.org-detail-item {
    font-size: 12px;
    display: flex;
    flex-direction: column;
    gap: 3px;
}

.org-detail-label {
    opacity: 0.8;
    font-size: 11px;
}

.org-detail-value {
    font-weight: 500;
}

.org-balance {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    padding: 10px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 6px;
    backdrop-filter: blur(10px);
}

.organization-info .balance-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.organization-info .balance-label {
    font-size: 11px;
    opacity: 0.9;
}

.organization-info .balance-value {
    font-size: 16px;
    font-weight: 700;
}

.balance-rubles {
    color: #ffd700;
}

.balance-tokens {
    color: #90caf9;
}

.btn-topup {
    display: block;
    width: 100%;
    padding: 8px 16px;
    background: rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 6px;
    color: white;
    text-align: center;
    text-decoration: none;
    font-size: 13px;
    font-weight: 500;
    transition: all 0.2s;
}

.btn-topup:hover {
    background: rgba(255, 255, 255, 0.3);
    border-color: rgba(255, 255, 255, 0.5);
    transform: translateY(-1px);
}

.organization-info-error {
    color: #f44336;
    padding: 10px;
    font-size: 12px;
}
