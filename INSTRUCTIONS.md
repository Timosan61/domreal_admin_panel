# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É - –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –∑–≤–æ–Ω–∫–æ–≤

## ‚úÖ –°–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!

### üìç URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞:

**–ù–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ:**
```
http://104.248.39.106:8080
```

**–õ–æ–∫–∞–ª—å–Ω–æ (—Å —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞):**
```
http://localhost:8080
```

### üìã –°—Ç—Ä–∞–Ω–∏—Ü—ã:

1. **–°–ø–∏—Å–æ–∫ –∑–≤–æ–Ω–∫–æ–≤**: http://104.248.39.106:8080/index.php
2. **API - —Å–ø–∏—Å–æ–∫ –∑–≤–æ–Ω–∫–æ–≤**: http://104.248.39.106:8080/api/calls.php
3. **API - —Ñ–∏–ª—å—Ç—Ä—ã**: http://104.248.39.106:8080/api/filters.php

---

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º

### –ó–∞–ø—É—Å–∫ (–µ—Å–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):
```bash
cd /home/coder/projects/MORDA
docker-compose up -d
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
cd /home/coder/projects/MORDA
docker-compose down
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:
```bash
cd /home/coder/projects/MORDA
docker-compose restart
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
cd /home/coder/projects/MORDA
docker-compose logs -f
```

### –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ (–ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞):
```bash
cd /home/coder/projects/MORDA
docker-compose up -d --build
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```bash
docker ps | grep calls_frontend
```

---

## üåê –î–æ—Å—Ç—É–ø —Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

–ï—Å–ª–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∏ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞ —Å–≤–æ–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
2. –í–≤–µ–¥–∏—Ç–µ: `http://104.248.39.106:8080`

**–í–∞–∂–Ω–æ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 8080 –æ—Ç–∫—Ä—ã—Ç –≤ firewall –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ firewall (–µ—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞):

```bash
# Ubuntu/Debian
sudo ufw allow 8080/tcp
sudo ufw reload

# CentOS/RHEL
sudo firewall-cmd --permanent --add-port=8080/tcp
sudo firewall-cmd --reload
```

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker ps
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –æ—à–∏–±–æ–∫:
```bash
docker-compose logs web
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
```bash
curl http://localhost:8080/api/filters.php
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –æ—Ç–¥–µ–ª–∞–º–∏ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏.

### –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏):
```bash
docker exec -it calls_frontend bash
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
MORDA/
‚îú‚îÄ‚îÄ api/                    # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ calls.php           # –°–ø–∏—Å–æ–∫ –∑–≤–æ–Ω–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ call_details.php    # –î–µ—Ç–∞–ª–∏ –∑–≤–æ–Ω–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ filters.php         # –§–∏–ª—å—Ç—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ audio_stream.php    # –°—Ç—Ä–∏–º–∏–Ω–≥ –∞—É–¥–∏–æ
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ css/style.css       # –°—Ç–∏–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ       ‚îú‚îÄ‚îÄ calls_list.js   # JS –¥–ª—è —Å–ø–∏—Å–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ call_evaluation.js  # JS –¥–ª—è –æ—Ü–µ–Ω–∫–∏
‚îú‚îÄ‚îÄ config/database.php     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î
‚îú‚îÄ‚îÄ index.php               # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ call_evaluation.php     # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ü–µ–Ω–∫–∏
‚îú‚îÄ‚îÄ Dockerfile              # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml      # Docker Compose
‚îî‚îÄ‚îÄ start.sh                # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
```

---

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1: –°–ø–∏—Å–æ–∫ –∑–≤–æ–Ω–∫–æ–≤ (`/index.php`)
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ —Å–æ –≤—Å–µ–º–∏ –∑–≤–æ–Ω–∫–∞–º–∏
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã: –æ—Ç–¥–µ–ª, –º–µ–Ω–µ–¥–∂–µ—Ä, –¥–∞—Ç–∞, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–æ–º–µ—Ä, –æ—Ü–µ–Ω–∫–∞
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è (20 –∑–∞–ø–∏—Å–µ–π/—Å—Ç—Ä–∞–Ω–∏—Ü–∞)

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2: –û—Ü–µ–Ω–∫–∞ –∑–≤–æ–Ω–∫–∞ (`/call_evaluation.php?callid=xxx`)
- ‚úÖ –ê—É–¥–∏–æ–ø–ª–µ–µ—Ä —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
- ‚úÖ –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –æ—Ü–µ–Ω–∫–∏
- ‚úÖ AI-–∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–Ω–∞—è –ë–î (195.239.161.77:13306)
- –ë–∞–∑–∞: `calls_db`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `datalens_user` (read-only)
- –¢–∞–±–ª–∏—Ü—ã: `calls_raw`, `transcripts`, `analysis_results`, `audio_jobs`

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ë—ã—Å—Ç—Ä—ã–π —Ä–µ—Å—Ç–∞—Ä—Ç –≤—Å–µ–≥–æ:
```bash
cd /home/coder/projects/MORDA
./start.sh
```

### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker-compose down -v
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ Apache:
```bash
docker exec calls_frontend tail -f /var/log/apache2/error.log
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PHP –≤–µ—Ä—Å–∏—é:
```bash
docker exec calls_frontend php -v
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–í–∞–∂–Ω–æ –¥–ª—è production:**

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS (SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)
2. –î–æ–±–∞–≤—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å)
3. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ API –ø–æ IP
4. –í–∫–ª—é—á–∏—Ç–µ rate limiting
5. –û—Ç–∫–ª—é—á–∏—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ PHP

---

## üìû –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–≤–æ–Ω–∫–æ–≤:
```bash
curl "http://localhost:8080/api/calls.php?page=1&per_page=5"
```

### –ü–æ–ª—É—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã:
```bash
curl "http://localhost:8080/api/filters.php"
```

### –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∑–≤–æ–Ω–∫–∞:
```bash
curl "http://localhost:8080/api/call_details.php?callid=YOUR_CALLID"
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: **http://104.248.39.106:8080**

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ó–∞–ø—É—â–µ–Ω –ª–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: `docker ps`
2. –î–æ—Å—Ç—É–ø–µ–Ω –ª–∏ –ø–æ—Ä—Ç 8080: `sudo ufw status`
3. –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `docker-compose logs`
