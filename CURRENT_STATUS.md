# üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** - –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080
2. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª–æ–∫–∞–ª—å–Ω—ã–º MySQL (172.17.0.1:3306)
3. **Frontend —Å—Ç—Ä–∞–Ω–∏—Ü—ã** - —Å–æ–∑–¥–∞–Ω—ã –∏ –¥–æ—Å—Ç—É–ø–Ω—ã
4. **API endpoints** - —Å–æ–∑–¥–∞–Ω—ã, –Ω–æ —Ç—Ä–µ–±—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## ‚ö†Ô∏è –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

### 1. –£–¥–∞–ª–µ–Ω–Ω–∞—è –±–∞–∑–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
- **–ê–¥—Ä–µ—Å**: 195.239.161.77:13306
- **–°—Ç–∞—Ç—É—Å**: –ü–æ—Ä—Ç –∑–∞–∫—Ä—ã—Ç/–Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- **–ü—Ä–∏—á–∏–Ω–∞**: –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —Ñ–∞–π–µ—Ä–≤–æ–ª –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–µ—Ç–∏
- **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É ‚úÖ

### 2. –ú–∞–ª–æ –¥–∞–Ω–Ω—ã—Ö –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ
- **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –í—Å–µ–≥–æ 8 –∑–∞–ø–∏—Å–µ–π –≤ calls_raw
- **–î–∞–º–ø –¥–æ—Å—Ç—É–ø–µ–Ω**: `/home/coder/projects/MORDA/calls_db (1).sql` (23 MB)
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `datalens_user` –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ READ-ONLY –¥–æ—Å—Ç—É–ø
- **–†–µ—à–µ–Ω–∏–µ**: –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–º–ø –æ—Ç –∏–º–µ–Ω–∏ root –∏–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### 3. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã
- **–û–∂–∏–¥–∞–ª–æ—Å—å** (–ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):
  - `call_result` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–≤–æ–Ω–∫–∞
  - `is_successful` - —Ñ–ª–∞–≥ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
  - `script_compliance_score` - –æ—Ü–µ–Ω–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞
  - `script_check_*` - –ø–æ–ª—è —á–µ–∫–ª–∏—Å—Ç–∞

- **–†–µ–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:
  - `score_overall` - –æ–±—â–∞—è –æ—Ü–µ–Ω–∫–∞
  - `emotion_tone` - —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–Ω
  - `conversion_probability` - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
  - `metrics_json` - JSON —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
  - `coaching_text` - —Ç–µ–∫—Å—Ç –¥–ª—è –∫–æ—É—á–∏–Ω–≥–∞

## üöÄ URL –¥–æ—Å—Ç—É–ø–∞:

- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: http://104.248.39.106:8080/index.php
- **API —Ñ–∏–ª—å—Ç—Ä–æ–≤**: http://104.248.39.106:8080/api/filters.php ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- **API –∑–≤–æ–Ω–∫–æ–≤**: http://104.248.39.106:8080/api/calls.php ‚ùå –û–®–ò–ë–ö–ê (–Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

### –®–∞–≥ 1: –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (—Ç—Ä–µ–±—É–µ—Ç root –¥–æ—Å—Ç—É–ø –∫ MySQL)

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Ç root
mysql -h 127.0.0.1 -P 3306 -u root -p calls_db < "/home/coder/projects/MORDA/calls_db (1).sql"

# –í–∞—Ä–∏–∞–Ω—Ç 2: –î–∞—Ç—å –ø—Ä–∞–≤–∞ datalens_user
mysql -h 127.0.0.1 -P 3306 -u root -p
> GRANT INSERT, UPDATE, DELETE ON calls_db.* TO 'datalens_user'@'%';
> FLUSH PRIVILEGES;
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å API (—è –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å)

–ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:
1. `api/calls.php` - –∏–∑–º–µ–Ω–∏—Ç—å SELECT (call_result ‚Üí metrics_json, script_compliance_score ‚Üí score_overall)
2. `api/call_details.php` - –ø–∞—Ä—Å–∏—Ç—å metrics_json –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π
3. `assets/js/calls_list.js` - –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
4. `assets/js/call_evaluation.js` - –ø–∞—Ä—Å–∏—Ç—å metrics_json

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
```bash
curl "http://localhost:8080/api/filters.php"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
```json
{
  "success": true,
  "data": {
    "departments": [],
    "managers": ["Domril –æ—Ñ–∏—Å –†–µ—Å–µ–ø—à–µ–Ω", "–ê–Ω–∞—Å—Ç–∞—Å–∏—è –î–æ–≤—ã–¥–µ–Ω–∫–æ", ...]
  }
}
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–≤–æ–Ω–∫–æ–≤:
```bash
curl "http://localhost:8080/api/calls.php?page=1&per_page=5"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚ùå –û—à–∏–±–∫–∞
```
Fatal error: Column not found: 1054 Unknown column 'ar.call_result'
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö:
```bash
mysql -h 127.0.0.1 -P 3306 -u datalens_user -p'datalens_readonly_2024' calls_db -e "SELECT COUNT(*) FROM calls_raw;"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 8 –∑–∞–ø–∏—Å–µ–π (–º–∞–ª–æ, –Ω—É–∂–µ–Ω –∏–º–ø–æ—Ä—Ç)

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **[–í—ã]** –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–º–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
2. **[–Ø]** –û–±–Ω–æ–≤–∏—Ç—å API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –±–∞–∑—ã
3. **[–ú—ã]** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

## üìû –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è API:

- ‚úÖ –°–ø–∏—Å–æ–∫ –∑–≤–æ–Ω–∫–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ü–µ–Ω–∫–∏ –∑–≤–æ–Ω–∫–∞
- ‚úÖ –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ AI-–∞–Ω–∞–ª–∏–∑
- ‚è≥ –ß–µ–∫–ª–∏—Å—Ç (–Ω—É–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å metrics_json)
- ‚è≥ –ê—É–¥–∏–æ–ø–ª–µ–µ—Ä (–ø—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏—Ö —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è)

---

**–í—ã–≤–æ–¥**: –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –Ω–∞ 80%. –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ - –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î. –ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è API –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é.
