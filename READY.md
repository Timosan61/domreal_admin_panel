# ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –∑–≤–æ–Ω–∫–æ–≤ - –ì–û–¢–û–í–ê!

## üåê URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞:

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—Å–ø–∏—Å–æ–∫ –∑–≤–æ–Ω–∫–æ–≤):
```
http://104.248.39.106:8080
http://104.248.39.106:8080/index.php
```

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ü–µ–Ω–∫–∏ –∑–≤–æ–Ω–∫–∞ (–ø—Ä–∏–º–µ—Ä):
```
http://104.248.39.106:8080/call_evaluation.php?callid=beeline_209004377_1750227646050
```

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–∞—è MySQL –±–∞–∑–∞ –Ω–∞ –ø–æ—Ä—Ç—É 3306
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ IP 172.17.0.1
- ‚úÖ –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 8 –∑–≤–æ–Ω–∫–æ–≤ (–¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —Ç–µ—Å—Ç–∞)

### 2. API Endpoints

#### `/api/calls.php` - –°–ø–∏—Å–æ–∫ –∑–≤–æ–Ω–∫–æ–≤
**–†–∞–±–æ—Ç–∞–µ—Ç!** ‚úÖ

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –í—Å–µ –∑–≤–æ–Ω–∫–∏
curl "http://104.248.39.106:8080/api/calls.php"

# –° —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
curl "http://104.248.39.106:8080/api/calls.php?manager=–ò–≤–∞–Ω–æ–≤&page=1&per_page=10"

# –° —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
curl "http://104.248.39.106:8080/api/calls.php?sort_by=score_overall&sort_order=DESC"
```

**–ü–æ–ª—è:**
- `callid` - ID –∑–≤–æ–Ω–∫–∞
- `employee_name` - –ú–µ–Ω–µ–¥–∂–µ—Ä
- `department` - –û—Ç–¥–µ–ª
- `client_phone` - –¢–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞
- `duration_sec` - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—Å–µ–∫—É–Ω–¥—ã)
- `started_at_utc` - –î–∞—Ç–∞/–≤—Ä–µ–º—è
- `call_type` - –¢–∏–ø –∑–≤–æ–Ω–∫–∞
- `score_overall` - –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ (0-10)
- `conversion_probability` - –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ (0-1)
- `emotion_tone` - –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–Ω

#### `/api/call_details.php` - –î–µ—Ç–∞–ª–∏ –∑–≤–æ–Ω–∫–∞
**–†–∞–±–æ—Ç–∞–µ—Ç!** ‚úÖ

```bash
curl "http://104.248.39.106:8080/api/call_details.php?callid=beeline_209004377_1750227646050"
```

#### `/api/filters.php` - –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
**–†–∞–±–æ—Ç–∞–µ—Ç!** ‚úÖ

```bash
curl "http://104.248.39.106:8080/api/filters.php"
```

### 3. Frontend —Å—Ç—Ä–∞–Ω–∏—Ü—ã

#### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`index.php`)
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –∑–≤–æ–Ω–∫–æ–≤
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã: –æ—Ç–¥–µ–ª, –º–µ–Ω–µ–¥–∂–µ—Ä, –¥–∞—Ç–∞, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–æ–º–µ—Ä, –æ—Ü–µ–Ω–∫–∞
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

#### –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ü–µ–Ω–∫–∏ (`call_evaluation.php`)
- ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–≤–æ–Ω–∫–µ
- ‚úÖ –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –æ—Ü–µ–Ω–∫–∏
- ‚úÖ AI-–∞–Ω–∞–ª–∏–∑
- ‚è≥ –ê—É–¥–∏–æ–ø–ª–µ–µ—Ä (–µ—Å–ª–∏ –µ—Å—Ç—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º)

---

## üé® –î–∏–∑–∞–π–Ω

Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ Figma –º–∞–∫–µ—Ç–æ–≤:
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI —Å —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º–æ–π (—Å–∏–Ω–∏–π, –∑–µ–ª–µ–Ω—ã–π, –æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞
- –ë–µ–π–¥–∂–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

---

## üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

**–í—Å–µ–≥–æ –≤ –±–∞–∑–µ:** 8 –∑–≤–æ–Ω–∫–æ–≤

**–ú–µ–Ω–µ–¥–∂–µ—Ä—ã:**
- –ö–ª–µ–π–Ω–∞—Å –í–∏–∫—Ç–æ—Ä–∞—Å –Æ–æ–∑–æ
- –ò—Ä–∏–Ω–∞ –°–µ—Ä–æ–≤–∞
- –ê–Ω–∞—Å—Ç–∞—Å–∏—è –î–æ–≤—ã–¥–µ–Ω–∫–æ
- Domril –æ—Ñ–∏—Å –†–µ—Å–µ–ø—à–µ–Ω
- –Ø–≥–æ—Ñ–∞—Ä–æ–≤–∞ –Æ–ª–∏—è –†–∞–∏—Å–æ–≤–Ω–∞

**–¢–∏–ø—ã –∑–≤–æ–Ω–∫–æ–≤:**
- unknown

---

## üöÄ –ò–º–ø–æ—Ä—Ç –ø–æ–ª–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–£ –≤–∞—Å –µ—Å—Ç—å –¥–∞–º–ø: `/home/coder/projects/MORDA/calls_db (1).sql` (23 MB)

### –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é –±–∞–∑—É (4,296 –∑–≤–æ–Ω–∫–æ–≤):

```bash
# –û—Ç root –∏–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
mysql -h 127.0.0.1 -P 3306 -u root -p calls_db < "/home/coder/projects/MORDA/calls_db (1).sql"
```

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞:
- ‚úÖ ~4,296 –∑–∞–ø–∏—Å–µ–π –≤ calls_raw
- ‚úÖ ~4,293 —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π
- ‚úÖ ~4,285 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞

---

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker

### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
```bash
cd /home/coder/projects/MORDA
docker-compose down
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å:
```bash
cd /home/coder/projects/MORDA
docker-compose up -d
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:
```bash
cd /home/coder/projects/MORDA
docker-compose restart
```

### –õ–æ–≥–∏:
```bash
docker-compose logs -f
```

### –°—Ç–∞—Ç—É—Å:
```bash
docker ps | grep calls_frontend
```

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
MORDA/
‚îú‚îÄ‚îÄ api/                       # API endpoints (PHP)
‚îÇ   ‚îú‚îÄ‚îÄ calls.php              # –°–ø–∏—Å–æ–∫ –∑–≤–æ–Ω–∫–æ–≤ ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ call_details.php       # –î–µ—Ç–∞–ª–∏ –∑–≤–æ–Ω–∫–∞ ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ filters.php            # –§–∏–ª—å—Ç—Ä—ã ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ audio_stream.php       # –°—Ç—Ä–∏–º–∏–Ω–≥ –∞—É–¥–∏–æ
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ css/style.css          # –°—Ç–∏–ª–∏ ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ       ‚îú‚îÄ‚îÄ calls_list.js      # JS –¥–ª—è —Å–ø–∏—Å–∫–∞ ‚úÖ
‚îÇ       ‚îî‚îÄ‚îÄ call_evaluation.js # JS –¥–ª—è –æ—Ü–µ–Ω–∫–∏ ‚úÖ
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ database.php           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î ‚úÖ
‚îú‚îÄ‚îÄ index.php                  # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚úÖ
‚îú‚îÄ‚îÄ call_evaluation.php        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ü–µ–Ω–∫–∏ ‚úÖ
‚îú‚îÄ‚îÄ Dockerfile                 # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml         # Docker Compose
‚îî‚îÄ‚îÄ README.md                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üéØ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ –∑–≤–æ–Ω–∫–æ–≤
- –¢–∞–±–ª–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∑–≤–æ–Ω–∫–∞—Ö
- –§–∏–ª—å—Ç—Ä—ã:
  - –û—Ç–¥–µ–ª
  - –ú–µ–Ω–µ–¥–∂–µ—Ä
  - –î–∞—Ç–∞ (–æ—Ç/–¥–æ)
  - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω/–º–∞–∫—Å)
  - –ù–æ–º–µ—Ä –∫–ª–∏–µ–Ω—Ç–∞
  - –û—Ü–µ–Ω–∫–∞ (0-10)
  - –¢–∏–ø –∑–≤–æ–Ω–∫–∞
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤—Å–µ–º –∫–æ–ª–æ–Ω–∫–∞–º
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è (20 –∑–∞–ø–∏—Å–µ–π/—Å—Ç—Ä–∞–Ω–∏—Ü–∞)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ü–µ–Ω–∫–∏ –∑–≤–æ–Ω–∫–∞
- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–¥–∞—Ç–∞, –º–µ–Ω–µ–¥–∂–µ—Ä, –∫–ª–∏–µ–Ω—Ç, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π (–ú–µ–Ω–µ–¥–∂–µ—Ä/–ö–ª–∏–µ–Ω—Ç)
- –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –ø–µ—Ä–≤–æ–≥–æ –∑–≤–æ–Ω–∫–∞
- AI-–∞–Ω–∞–ª–∏–∑:
  - –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ
  - –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–Ω
  - –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
  - –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (0-10)
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∫–æ—É—á–∏–Ω–≥–∞

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ê—É–¥–∏–æ—Ñ–∞–π–ª—ã –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã** - –ø–æ–ª–µ `audio_path` –ø—É—Å—Ç–æ–µ –≤ –ë–î
2. **–û—Ç–¥–µ–ª—ã –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã** - –ø–æ–ª–µ `department` = NULL
3. **–ú–∞–ª–æ –¥–∞–Ω–Ω—ã—Ö** - —Ç–æ–ª—å–∫–æ 8 –∑–∞–ø–∏—Å–µ–π (–∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –¥–∞–º–ø)

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω—É—é –±–∞–∑—É** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—É—Ç–∏ –∫ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞–º** –µ—Å–ª–∏ –æ–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
3. **–î–æ–±–∞–≤—å—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** –¥–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

## üìû –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: **http://104.248.39.106:8080**

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ! üéâ
